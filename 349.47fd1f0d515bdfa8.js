"use strict";(self.webpackChunkAngularBase=self.webpackChunkAngularBase||[]).push([[349],{1995:(F,I,i)=>{i.d(I,{a:()=>n,b:()=>t});var t=(()=>{return(p=t||(t={})).NORMAL="normal",p.ENUM="enum",p.BOOLEAN="boolean",p.DATE="date",p.IMAGE="image",p.ICON="icon",t;var p})(),n=(()=>{return(p=n||(n={})).DETAILS="details",p.EDIT="edit",p.DELETE="delete",p.ADD="add",n;var p})()},850:(F,I,i)=>{i.d(I,{Q:()=>t});var t=(()=>{return(n=t||(t={})).INPUT="input",n.DROPDOWM="dropdown",n.TEXTAREA="textarea",n.CALENDAR="calendar",n.SWITCH="switch",t;var n})()},8731:(F,I,i)=>{i.d(I,{C2:()=>t,R8:()=>n,Sh:()=>p,Xt:()=>h,tz:()=>f});var t=(()=>{return(g=t||(t={})).PCLTR="Primary_Crane_LT_Report",g.PTCR="Primary_Test_Certificate_Report",g.PVCR="Primary_Visual_Certificate_Report",t;var g})(),n=(()=>{return(g=n||(n={})).COMPLETED="Completed",g.UNCOMLPETED="Uncompleted",n;var g})(),p=(()=>{return(g=p||(p={})).LOW="low",g.MEDIUM="medium",g.HIGH="high",p;var g})(),f=(()=>{return(g=f||(f={})).QUARANTINED="quarantined",g.FIXED="fixed",g.IGNORED="ignored",f;var g})(),h=(()=>{return(g=h||(h={})).ACCEPTED="accepted",g.REJECTED="rejected",h;var g})()},2241:(F,I,i)=>{i.d(I,{L:()=>p});var t=i(8703),n=i(8274);let p=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({imports:[t.h]}),f})()},2397:(F,I,i)=>{i.d(I,{c:()=>s});var t=i(965),n=i(8274),p=i(3794),f=i(6895),h=i(7861);function g(a,_){1&a&&(n.TgZ(0,"div",3),n._UZ(1,"i",4),n.qZA())}function P(a,_){if(1&a&&(n.TgZ(0,"div",9)(1,"div",10)(2,"p",11),n._uU(3),n.qZA(),n.TgZ(4,"h3",12),n._uU(5),n.qZA()(),n.TgZ(6,"div",18),n._UZ(7,"i",19),n.qZA()()),2&a){const r=_.$implicit,x=_.index,D=n.oxw(2);n.xp6(3),n.hij("Total ",r," :"),n.xp6(2),n.hij(" ",D.usersInstallationEquipmentsCards[r]," "),n.xp6(2),n.Q6J("ngClass",D.usersInstallationEquipmentsCardsicons[x])}}function y(a,_){if(1&a&&(n.TgZ(0,"div",9)(1,"div",10)(2,"p",11),n._uU(3),n.qZA(),n.TgZ(4,"h3",12),n._uU(5),n.qZA()(),n.TgZ(6,"div",18),n._UZ(7,"i",19),n.qZA()()),2&a){const r=_.$implicit,x=_.index,D=n.oxw(2);n.xp6(3),n.hij("Total ",r," :"),n.xp6(2),n.hij(" ",D.DashboardReportsDefectsCards[r]," "),n.xp6(2),n.Q6J("ngClass",D.DashboardReportsDefectsCardsicons[x])}}const A=function(){return{width:"25%"}};function w(a,_){if(1&a&&n._UZ(0,"p-chart",20),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,A)),n.Q6J("data",r.userChart)}}function u(a,_){if(1&a&&n._UZ(0,"p-chart",21),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,A)),n.Q6J("data",r.equiChart)}}function m(a,_){if(1&a&&n._UZ(0,"p-chart",21),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,A)),n.Q6J("data",r.inspectionChart)}}function C(a,_){if(1&a&&n._UZ(0,"p-chart",22),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,A)),n.Q6J("data",r.defectChart)}}function T(a,_){if(1&a&&(n.TgZ(0,"div")(1,"div",5)(2,"h3"),n._uU(3),n.qZA()(),n.TgZ(4,"div",6),n.YNc(5,P,8,3,"div",7),n.qZA(),n.TgZ(6,"div",8),n.YNc(7,y,8,3,"div",7),n.TgZ(8,"div",9)(9,"div",10)(10,"p",11),n._uU(11,"Valid Reports :"),n.qZA(),n.TgZ(12,"h3",12),n._uU(13),n.qZA()(),n.TgZ(14,"div",10)(15,"p",11),n._uU(16,"Expired Reports:"),n.qZA(),n.TgZ(17,"h3",12),n._uU(18),n.qZA()()()(),n.TgZ(19,"div",13),n.YNc(20,w,1,4,"p-chart",14),n.YNc(21,u,1,4,"p-chart",15),n.qZA(),n.TgZ(22,"div",16),n.YNc(23,m,1,4,"p-chart",15),n.YNc(24,C,1,4,"p-chart",17),n.qZA()()),2&a){const r=n.oxw();n.xp6(3),n.hij("",r.pageTitle," Page"),n.xp6(2),n.Q6J("ngForOf",r.usersInstallationEquipmentsCardsKey),n.xp6(2),n.Q6J("ngForOf",r.DashboardReportsDefectsCardsKey),n.xp6(6),n.hij(" ",null==r.DashboardReportExpireCard?null:r.DashboardReportExpireCard.nonExpiredReportsCount," "),n.xp6(5),n.hij(" ",null==r.DashboardReportExpireCard?null:r.DashboardReportExpireCard.expiredReportsCount," "),n.xp6(2),n.Q6J("ngIf","admin"==r.role&&!r.isUserChart),n.xp6(1),n.Q6J("ngIf",!r.isEquiChart),n.xp6(2),n.Q6J("ngIf",!r.isInspectionChart),n.xp6(1),n.Q6J("ngIf",!r.isDefectChart)}}let s=(()=>{class a{constructor(r){this.dashboardService=r,this.pageTitle="Dashboard",this.role="",this.isDataLoaded=!1,this.isUserChart=!1,this.isEquiChart=!1,this.isInspectionChart=!1,this.isDefectChart=!1,this.usersInstallationEquipmentsCardsKey=[],this.DashboardReportsDefectsCardsKey=[],this.usersInstallationEquipmentsCardsicons=["pi-user","pi-th-large","pi-wrench"],this.DashboardReportsDefectsCardsicons=["pi-file","pi-file-excel"]}ngOnInit(){this.getCardsData(),this.role=localStorage.getItem("hoistRole")}getCardsData(){this.dashboardService.getAll("dashboard/card/users-installation-equipments").subscribe(r=>{r.success&&(this.isDataLoaded=!0,this.usersInstallationEquipmentsCards=r.result,this.role!=t.q.ADMIN&&delete this.usersInstallationEquipmentsCards.Users,this.usersInstallationEquipmentsCardsKey=Object.keys(this.usersInstallationEquipmentsCards))}),this.dashboardService.getAll("dashboard/card/reports-defects").subscribe(r=>{r.success&&(this.DashboardReportsDefectsCards=r.result,this.DashboardReportsDefectsCardsKey=Object.keys(this.DashboardReportsDefectsCards))}),this.dashboardService.getAll("dashboard/card/report-expire").subscribe(r=>{r.success&&(this.DashboardReportExpireCard=r.result)}),this.role!=t.q.ADMIN&&this.dashboardService.getAll("dashboard/chart/users").subscribe(r=>{let x=r.result;r.success&&(this.isUserChart=x.data.every(D=>0===D),this.userChart={labels:x.labels,datasets:[{data:x.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/equipments").subscribe(r=>{let x=r.result;r.success&&(this.isEquiChart=x.data.every(D=>0===D),this.equiChart={labels:x.labels,datasets:[{data:x.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/reports").subscribe(r=>{let x=r.result;r.success&&(this.isInspectionChart=x.data.every(D=>0===D),this.inspectionChart={labels:x.labels,datasets:[{data:x.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/defects").subscribe(r=>{let x=r.result;r.success&&(this.isDefectChart=x.data.every(D=>0===D),this.defectChart={labels:x.labels,datasets:[{data:x.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})})}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(p.I))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-dashboard-page"]],decls:3,vars:2,consts:[[1,"overflow-hidden"],["class","container d-flex flex-wrap fw-bold fs-1 fa-spin text-warning justify-content-center align-items-center","style","height: 100vh; width: 80vw",4,"ngIf"],[4,"ngIf"],[1,"container","d-flex","flex-wrap","fw-bold","fs-1","fa-spin","text-warning","justify-content-center","align-items-center",2,"height","100vh","width","80vw"],[1,"fa","fa-spinner"],[1,"header","d-flex","justify-content-between","p-3","mb-2"],[1,"d-flex","flex-wrap","justify-content-evenly"],["class","d-flex flex-wrap justify-content-between card-cont rounded shadow w-25 py-3 px-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","justify-content-evenly","mt-4"],[1,"d-flex","flex-wrap","justify-content-between","card-cont","rounded","shadow","w-25","py-3","px-2"],[1,""],[1,"m-0","text-secondary"],[1,"mt-1","text-dark","fw-bold"],[1,"d-flex","justify-content-around","mt-4","flex-wrap"],["type","pie",3,"data","style",4,"ngIf"],["type","doughnut",3,"data","style",4,"ngIf"],[1,"d-flex","justify-content-around","flex-wrap","mt-5"],["type","polarArea",3,"data","style",4,"ngIf"],[1,"card-icon","shadow","d-flex","justify-content-center","align-items-center"],[1,"pi",3,"ngClass"],["type","pie",3,"data"],["type","doughnut",3,"data"],["type","polarArea",3,"data"]],template:function(r,x){1&r&&(n.TgZ(0,"div",0),n.YNc(1,g,2,0,"div",1),n.YNc(2,T,25,9,"div",2),n.qZA()),2&r&&(n.xp6(1),n.Q6J("ngIf",!x.isDataLoaded),n.xp6(1),n.Q6J("ngIf",x.isDataLoaded))},dependencies:[f.mk,f.sg,f.O5,h.C],styles:[".card-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.card-cont[_ngcontent-%COMP%]{border-top:5px solid #545454}"]}),a})()},8498:(F,I,i)=>{i.d(I,{$:()=>y});var t=i(8165),n=i(529),p=i(5577),f=i(262),h=i(2843),g=i(8274),P=i(7215);let y=(()=>{class A extends t.gF{constructor(u,m){super(u),this.router=m,this.AUTH_BACK=this.BACKEND+"auth/"}login(u){let m=this.AUTH_BACK+"login";m=m.replace(/[?&]$/,"");const C=JSON.stringify(u);let T={...this.optionsConfig,body:C};return this.http.request("post",m,T).pipe((0,p.z)(s=>(0,t.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof n.QO))return(0,h._)(s);try{return(0,t.zx)(s)}catch(a){return(0,h._)(a)}}))}handleAuthData(u,m,C,T){const s=this.getTokenPayload(u);let a=Date.now();const _=1e3*s.exp-a,r=new Date(1e3*s.exp);localStorage.setItem("hoisttoken",u),localStorage.setItem("hoistexp",r.toISOString()),localStorage.setItem("hoistId",m),localStorage.setItem("hoistName",C),localStorage.setItem("hoistRole",T),setTimeout(()=>{this.logout()},_)}getTokenPayload(u){return JSON.parse(atob(u.split(".")[1]))}logout(u=!0){this.logoutApi().subscribe(m=>{"user logged out successfully"==m.message&&(localStorage.removeItem("hoisttoken"),localStorage.removeItem("hoistexp"),localStorage.removeItem("hoistId"),localStorage.removeItem("hoistName"),localStorage.removeItem("hoistImg"),u&&this.router.navigate(["/authentication/login"]))})}logoutApi(){let u=this.AUTH_BACK+"logout";u=u.replace(/[?&]$/,"");let m={...this.optionsConfig};return this.http.request("post",u,m).pipe((0,p.z)(C=>(0,t.zx)(C))).pipe((0,f.K)(C=>{if(!(C instanceof n.QO))return(0,h._)(C);try{return(0,t.zx)(C)}catch(T){return(0,h._)(T)}}))}}return A.\u0275fac=function(u){return new(u||A)(g.LFG(g.zs3),g.LFG(P.F0))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},3794:(F,I,i)=>{i.d(I,{I:()=>y});var t=i(529),n=i(8165),p=i(5577),f=i(262),h=i(2843),g=i(8274),P=i(7215);let y=(()=>{class A extends n.gF{constructor(u,m){super(u),this.router=m}getAll(u){let m=this.BACKEND+u;m=m.replace(/[?&]$/,"");let C={...this.optionsConfig};return this.http.request("get",m,C).pipe((0,p.z)(T=>(0,n.zx)(T))).pipe((0,f.K)(T=>{if(!(T instanceof t.QO))return(0,h._)(T);try{return(0,n.zx)(T)}catch(s){return(0,h._)(s)}}))}getByID(u,m){let C=this.BACKEND+m+"/"+u;C=C.replace(/[?&]$/,"");let T={...this.optionsConfig};return this.http.request("get",C,T).pipe((0,p.z)(s=>(0,n.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof t.QO))return(0,h._)(s);try{return(0,n.zx)(s)}catch(a){return(0,h._)(a)}}))}add(u,m){let C=this.BACKEND+m;C=C.replace(/[?&]$/,"");const T=JSON.stringify(u);let s={...this.optionsConfig,body:T};return this.http.request("post",C,s).pipe((0,p.z)(a=>(0,n.zx)(a))).pipe((0,f.K)(a=>{if(!(a instanceof t.QO))return(0,h._)(a);try{return(0,n.zx)(a)}catch(_){return(0,h._)(_)}}))}update(u,m,C){let T=this.BACKEND+C+"/"+m;T=T.replace(/[?&]$/,"");const s=JSON.stringify(u);let a={...this.optionsConfig,body:s,params:(new t.LE).set("",m)};return this.http.request("patch",T,a).pipe((0,p.z)(_=>(0,n.zx)(_))).pipe((0,f.K)(_=>{if(!(_ instanceof t.QO))return(0,h._)(_);try{return(0,n.zx)(_)}catch(r){return(0,h._)(r)}}))}delete(u,m){let C=this.BACKEND+m+"/"+u;C=C.replace(/[?&]$/,"");let T={...this.optionsConfig,params:(new t.LE).set("",u)};return this.http.request("delete",C,T).pipe((0,p.z)(s=>(0,n.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof t.QO))return(0,h._)(s);try{return(0,n.zx)(s)}catch(a){return(0,h._)(a)}}))}addToID(u,m,C){let T=this.BACKEND+C+"/"+m;T=T.replace(/[?&]$/,"");const s=JSON.stringify(u);let a={...this.optionsConfig,body:s,params:(new t.LE).set("",m)};return this.http.request("post",T,a).pipe((0,p.z)(_=>(0,n.zx)(_))).pipe((0,f.K)(_=>{if(!(_ instanceof t.QO))return(0,h._)(_);try{return(0,n.zx)(_)}catch(r){return(0,h._)(r)}}))}}return A.\u0275fac=function(u){return new(u||A)(g.LFG(g.zs3),g.LFG(P.F0))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},3189:(F,I,i)=>{i.d(I,{c:()=>p});var t=i(7215),n=i(4463);class p{constructor(h){this.mainBreadCrumb="",this.mainBreadCrumbLink="",this.subBreadCrumb="",this.Translate=h.get(n.sK),this.route=h.get(t.gz),this.router=h.get(t.F0),this.Translate.use(localStorage.getItem("hoistLang")||"en-US"),this.isEnglish="en-US"==this.Translate.currentLang}}},8165:(F,I,i)=>{i.d(I,{gF:()=>A,zx:()=>u});var t=i(529),n=i(5577),p=i(9646),f=i(9751),h=i(2843),g=i(8076),P=i(7400),y=i(805);class A{constructor(a){this.optionsConfig={observe:"response",responseType:"blob",headers:new t.WM({"Content-Type":"application/json",Accept:"text/plain"})},this.http=a.get(t.eN),this.appConfigServices=a.get(g._),this.BACKEND=this.appConfigServices?.appConfig?.baseURL}}function u(s){const a=s.status,_=s instanceof t.Zn?s.body:s.error instanceof Blob?s.error:void 0;let r={};if(s.headers)for(let x of s.headers.keys())r[x]=s.headers.get(x);return 200===a||201===a?C(_).pipe((0,n.z)(x=>{let D=null;return D=""===x?null:JSON.parse(x,void 0),D?.message&&"success"!=D.message&&!/^\d+$/.test(D?.message)&&m().add({severity:"success",summary:" success",detail:D?.message,life:3e3}),(0,p.of)(D)})):500==a?(m().add({severity:"error",summary:"failed",detail:"An unexpected server error occurred.",life:3e3}),new f.y):200!==a&&204!==a?C(_).pipe((0,n.z)(x=>function T(s,a,_,r,x){var D=_?JSON.parse(_):null,R=D?.message?D.message:D?.title;return null==R||null==R?401==a?m().add({severity:"error",summary:a.toString(),detail:"you are not Authorized",life:3e3}):m().add({severity:"error",summary:a.toString(),detail:s,life:3e3}):m().add({severity:"error",summary:a.toString(),detail:R,life:3e3}),(0,h._)(R)}("An unexpected server error occurred.",a,x))):(0,p.of)(null)}function m(){return P.k0.get(y.ez)}function C(s){return new f.y(a=>{if(s){let _=new FileReader;_.onload=r=>{a.next(r.target.result),a.complete()},_.readAsText(s)}else a.next(""),a.complete()})}},4930:(F,I,i)=>{i.d(I,{Q:()=>Q});var t=i(8274),n=i(1995),p=i(6895),f=i(805),h=i(5593),g=i(6125),P=i(1740),y=i(4463);const A=["searchInput"];function w(l,E){if(1&l){const e=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){t.CHM(e);const M=t.oxw(),Z=t.MAs(5);return t.KtG(M.clear(Z))}),t.qZA(),t.TgZ(2,"span",11),t._UZ(3,"i",12),t.TgZ(4,"input",13,14),t.NdJ("input",function(){t.CHM(e);const M=t.MAs(5);t.oxw();const Z=t.MAs(5);return t.KtG(Z.filterGlobal(M.value,"contains"))}),t.qZA()()()}}const u=function(){return{maxWidth:"fitContent"}};function m(l,E){if(1&l&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-columnFilter",18),t.qZA()),2&l){const e=E.$implicit;t.Q6J("ngStyle",t.DdM(5,u)),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function C(l,E){1&l&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS")," "))}function T(l,E){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,m,4,6,"th",15),t.YNc(2,C,3,3,"th",16),t.qZA()),2&l){const e=E.$implicit,c=t.oxw();t.xp6(1),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",c.isActions)}}function s(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.hij(" ",c[e.field]?c[e.field]:"no data"," ")}}function a(l,E){if(1&l&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",e.enumTdObj[c[e.field]]),t.xp6(1),t.hij(" ",c[e.field]?c[e.field]:"no data"," ")}}function _(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.hij(" ",c[e.field]?"Yes":"No"," ")}}function r(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.hij(" ",c[e.field]?t.xi3(2,1,c[e.field],"yyyy-MM-dd"):"no data"," ")}}function x(l,E){if(1&l&&t._UZ(0,"span",25),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",e.enumTdObj[c[e.field]])}}function D(l,E){if(1&l&&t._UZ(0,"img",27),2&l){const e=t.oxw(2).$implicit,c=t.oxw().$implicit;t.Q6J("src",c[e.field],t.LSH)}}function R(l,E){1&l&&(t.TgZ(0,"span"),t._uU(1," no data"),t.qZA())}function B(l,E){if(1&l&&(t.TgZ(0,"span"),t.YNc(1,D,1,1,"img",26),t.YNc(2,R,2,0,"span",23),t.qZA()),2&l){const e=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",c[e.field]),t.xp6(1),t.Q6J("ngIf",!c[e.field])}}const U=function(l,E,e,c){return{jobNumberHighlighted:l,reportNumberHighlighted:E,serialNumberHighlighted:e,typeCodeHighlighted:c}};function K(l,E){if(1&l&&(t.TgZ(0,"td",22),t.YNc(1,s,2,1,"span",23),t.YNc(2,a,2,2,"span",24),t.YNc(3,_,2,1,"span",23),t.YNc(4,r,3,4,"span",23),t.YNc(5,x,1,1,"span",24),t.YNc(6,B,3,2,"span",23),t.qZA()),2&l){const e=E.$implicit,c=t.oxw(2);t.Q6J("ngClass",t.l5B(7,U,"jobNumber"===e.field,"reportName"===e.field,"serialNumber"===e.field,"typeCode"===e.field)),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.NORMAL),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.ENUM),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.BOOLEAN),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.DATE),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.ICON),t.xp6(1),t.Q6J("ngIf",e.rowType==c.dataTableRowType.IMAGE)}}function L(l,E){if(1&l){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const M=t.oxw(2).$implicit,Z=t.oxw();return t.KtG(Z.actionBtnClicked("details",M._id))}),t.qZA()}}function d(l,E){if(1&l){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const M=t.oxw(2).$implicit,Z=t.oxw();return t.KtG(Z.actionBtnClicked("edit",M._id))}),t.qZA()}}function O(l,E){if(1&l){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const M=t.oxw(2).$implicit,Z=t.oxw();return t.KtG(Z.actionBtnClicked("delete",M._id))}),t.qZA()}}function o(l,E){if(1&l){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const M=t.oxw().$implicit,Z=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.actionBtnClicked(M.actionFunction,Z._id))}),t.qZA()}if(2&l){const e=t.oxw().$implicit;t.Q6J("icon",e.icon)("ngClass",e.style)}}function v(l,E){if(1&l&&(t.TgZ(0,"span"),t.YNc(1,o,1,2,"button",35),t.qZA()),2&l){const e=E.$implicit,c=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.isConditionalAction&&(null==e.conditionalByRow||!e.conditionalByRow.data||(null==e.conditionalByRow?null:e.conditionalByRow.data)===c[null==e||null==e.conditionalByRow?null:e.conditionalByRow.field]))}}const b=function(l){return{minWidth:l}};function N(l,E){if(1&l&&(t.TgZ(0,"td"),t.YNc(1,L,1,0,"button",28),t.YNc(2,d,1,0,"button",29),t.YNc(3,O,1,0,"button",30),t.YNc(4,v,2,1,"span",31),t.qZA()),2&l){const e=t.oxw(2);t.Akn(t.VKq(6,b,e.conditionalAction[0].isConditionalAction?"250px":"180px")),t.xp6(1),t.Q6J("ngIf",e.isMainActions),t.xp6(1),t.Q6J("ngIf",e.isMainActions),t.xp6(1),t.Q6J("ngIf",e.isMainActions),t.xp6(1),t.Q6J("ngForOf",e.conditionalAction)}}function J(l,E){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,K,7,12,"td",20),t.YNc(2,N,5,8,"td",21),t.qZA()),2&l){const e=E.columns,c=t.oxw();t.xp6(1),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",c.isActions)}}let Q=(()=>{class l{constructor(){this.cols=[],this.data=[],this.isActions=!1,this.isMainActions=!0,this.conditionalAction=[{actionFunction:"",icon:"pi",isConditionalAction:!1,style:"p-button-rounded"}],this.actionClicked=new t.vpe,this.dataTableRowType=n.b,this.filterFields=[]}ngOnInit(){this.getFieldsName()}getFieldsName(){this.cols.map(e=>{this.filterFields.push(e.field)})}actionBtnClicked(e,c){this.actionClicked.emit({action:e,id:c})}clear(e){this.searchInput.nativeElement.value="",e.clear()}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-data-table"]],viewQuery:function(e,c){if(1&e&&t.Gf(A,5),2&e){let M;t.iGM(M=t.CRH())&&(c.searchInput=M.first)}},inputs:{cols:"cols",data:"data",isActions:"isActions",isMainActions:"isMainActions",conditionalAction:"conditionalAction"},outputs:{actionClicked:"actionClicked"},decls:9,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[2,"width","100%"],[3,"columns","value","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","justify-content-between"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["searchInput",""],["class","text-center","style","text-align: center",3,"ngStyle",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"text-center",2,"text-align","center",3,"ngStyle"],["type","text","display","menu",3,"field"],[1,"text-center"],["class","text-center",3,"ngClass",4,"ngFor","ngForOf"],[3,"style",4,"ngIf"],[1,"text-center",3,"ngClass"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["alt","image",3,"src",4,"ngIf"],["alt","image",3,"src"],["pButton","","pRipple","","icon","pi pi-eye","class","p-button-rounded p-button-text p-button-info",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-text","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","class","p-button-text",3,"icon","ngClass","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-text",3,"icon","ngClass","click"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p-table",4,5),t.YNc(6,w,6,0,"ng-template",6),t.YNc(7,T,3,2,"ng-template",7),t.YNc(8,J,3,2,"ng-template",8),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("columns",c.cols)("value",c.data)("globalFilterFields",c.filterFields))},dependencies:[p.mk,p.sg,p.O5,p.PC,f.jx,h.Hq,g.iA,g.xl,P.o,p.uU,y.X$],styles:[".full-width-table[_ngcontent-%COMP%]   .p-datatable[_ngcontent-%COMP%]{width:100%!important}  .p-datatable th{max-width:-moz-fit-content!important;max-width:fit-content!important}  .p-datatable td,   .p-datatable th{padding:.25rem!important;margin:10px!important;text-align:center!important;font-size:12px}  .p-datatable th{font-size:14px;font-weight:bolder}.jobNumberHighlighted[_ngcontent-%COMP%], .reportNumberHighlighted[_ngcontent-%COMP%], .serialNumberHighlighted[_ngcontent-%COMP%], .typeCodeHighlighted[_ngcontent-%COMP%]{font-weight:700;color:#034286}"]}),l})()},9070:(F,I,i)=>{i.d(I,{E:()=>L});var t=i(8274),n=i(1995),p=i(6895),f=i(4006),h=i(5593),g=i(666),P=i(1740),y=i(3054),A=i(7913),w=i(585),u=i(4463);function m(d,O){if(1&d){const o=t.EpF();t.TgZ(0,"input",13),t.NdJ("input",function(){t.CHM(o);const b=t.oxw(2).$implicit,N=t.oxw();return t.KtG(b.conditinalFunction?N.conditionalOnChange(b.conditinalFunction):null)}),t.qZA()}if(2&d){const o=t.oxw(2).$implicit;t.Q6J("id",o.id)("type",o.type)("formControlName",o.formControlName)}}function C(d,O){if(1&d&&(t.TgZ(0,"label",14),t._uU(1),t.qZA()),2&d){const o=t.oxw(2).$implicit;t.Q6J("for",o.id),t.xp6(1),t.Oqu(o.placeholder)}}const T=function(){return{width:"100%"}};function s(d,O){if(1&d){const o=t.EpF();t.TgZ(0,"p-dropdown",15),t.NdJ("onChange",function(){t.CHM(o);const b=t.oxw(2).$implicit,N=t.oxw();return t.KtG(b.conditinalFunction?N.conditionalOnChange(b.conditinalFunction):null)}),t.qZA()}if(2&d){const o=t.oxw(2).$implicit;t.Akn(t.DdM(8,T)),t.Q6J("options",null==o||null==o.dropdownOpt?null:o.dropdownOpt.options)("formControlName",o.formControlName)("placeholder",o.placeholder)("optionLabel",null==o||null==o.dropdownOpt?null:o.dropdownOpt.optionLabel)("optionValue",null==o||null==o.dropdownOpt?null:o.dropdownOpt.optionValue)("showClear",!1)}}function a(d,O){if(1&d){const o=t.EpF();t.TgZ(0,"p-calendar",16),t.NdJ("onSelect",function(){t.CHM(o);const b=t.oxw(2).$implicit,N=t.oxw();return t.KtG(b.conditinalFunction?N.conditionalOnChange(b.conditinalFunction):null)}),t.qZA()}if(2&d){const o=t.oxw(2).$implicit;t.Q6J("formControlName",o.formControlName)("inputId",o.id)("id",o.id)}}function _(d,O){if(1&d&&(t.TgZ(0,"label",14),t._uU(1),t.qZA()),2&d){const o=t.oxw(2).$implicit;t.Q6J("for",o.id),t.xp6(1),t.Oqu(o.placeholder)}}function r(d,O){if(1&d){const o=t.EpF();t.TgZ(0,"textarea",17),t.NdJ("input",function(){t.CHM(o);const b=t.oxw(2).$implicit,N=t.oxw();return t.KtG(b.conditinalFunction?N.conditionalOnChange(b.conditinalFunction):null)}),t.qZA()}if(2&d){const o=t.oxw(2).$implicit;t.Q6J("rows",null==o||null==o.textareaOpt?null:o.textareaOpt.rows)("formControlName",o.formControlName)("cols",null==o||null==o.textareaOpt?null:o.textareaOpt.cols)}}function x(d,O){if(1&d&&(t.TgZ(0,"label",14),t._uU(1),t.qZA()),2&d){const o=t.oxw(2).$implicit;t.Q6J("for",o.id),t.xp6(1),t.Oqu(o.placeholder)}}function D(d,O){if(1&d&&(t.TgZ(0,"div",7),t.YNc(1,m,1,3,"input",8),t.YNc(2,C,2,2,"label",9),t.YNc(3,s,1,9,"p-dropdown",10),t.YNc(4,a,1,3,"p-calendar",11),t.YNc(5,_,2,2,"label",9),t.YNc(6,r,1,3,"textarea",12),t.YNc(7,x,2,2,"label",9),t.qZA()),2&d){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","input"==o.element),t.xp6(1),t.Q6J("ngIf","input"==o.element),t.xp6(1),t.Q6J("ngIf","dropdown"==o.element),t.xp6(1),t.Q6J("ngIf","calendar"==o.element),t.xp6(1),t.Q6J("ngIf","calendar"==o.element),t.xp6(1),t.Q6J("ngIf","textarea"==o.element),t.xp6(1),t.Q6J("ngIf","textarea"==o.element)}}function R(d,O){if(1&d){const o=t.EpF();t.TgZ(0,"div",18)(1,"label",19),t._uU(2),t.qZA(),t.TgZ(3,"p-inputSwitch",20),t.NdJ("onChange",function(){t.CHM(o);const b=t.oxw().$implicit,N=t.oxw();return t.KtG(b.conditinalFunction?N.conditionalOnChange(b.conditinalFunction):null)}),t.qZA()()}if(2&d){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("for",o.id),t.xp6(1),t.Oqu(o.placeholder),t.xp6(1),t.Q6J("id",o.id)("formControlName",o.formControlName)}}function B(d,O){if(1&d&&(t.TgZ(0,"small",21),t._uU(1),t.qZA()),2&d){const o=t.oxw().$implicit,v=t.oxw();let b;t.xp6(1),t.hij(" ",null!=(b=v.formControlFromParent.get(o.formControlName))&&b.hasError("required")?"This field is required":null!=(b=v.formControlFromParent.get(o.formControlName))&&b.hasError("minlength")?" Password must be at least 8 characters long.":null!=(b=v.formControlFromParent.get(o.formControlName))&&b.hasError("pattern")?" bad pattern.":null," ")}}function U(d,O){if(1&d&&(t.TgZ(0,"div",3),t.YNc(1,D,8,7,"div",4),t.YNc(2,R,4,4,"div",5),t.YNc(3,B,2,1,"small",6),t.qZA()),2&d){const o=O.$implicit,v=t.oxw();t.Q6J("ngClass",v.action!=o.conditionalAction?null:"d-none"),t.xp6(1),t.Q6J("ngIf",v.action!=o.conditionalAction),t.xp6(1),t.Q6J("ngIf","switch"==o.element),t.xp6(1),t.Q6J("ngIf",v.isError||!(null!=v.formControlFromParent.controls[o.formControlName]&&v.formControlFromParent.controls[o.formControlName].valid)&&(null==v.formControlFromParent.controls[o.formControlName]?null:v.formControlFromParent.controls[o.formControlName].touched))}}function K(d,O){1&d&&(t._UZ(0,"button",22),t.ALo(1,"translate")),2&d&&t.s9C("label",t.lcZ(1,1,"CONFIRM"))}let L=(()=>{class d{constructor(){this.inputs=[],this.action=n.a.ADD,this.formSubmitted=new t.vpe,this.conditinalFunction=new t.vpe,this.isError=!1}ngOnInit(){}conditionalOnChange(o){o(this.formControlFromParent,this.inputs)}Confirm(){this.formControlFromParent.invalid?this.isError=!0:this.formControlFromParent.valid&&this.formSubmitted.emit(this.formControlFromParent)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-input-form"]],inputs:{inputs:"inputs",formControlFromParent:"formControlFromParent",action:"action"},outputs:{formSubmitted:"formSubmitted",conditinalFunction:"conditinalFunction"},decls:3,vars:3,consts:[[1,"container","row","justify-content-md-evenly",3,"formGroup","ngSubmit"],["class","mt-4 col-12 col-md-6",3,"ngClass",4,"ngFor","ngForOf"],["pButton","","pRipple","","class","d-block w-full rounded mt-3 text-white save-btn","type","submit",3,"label",4,"ngIf"],[1,"mt-4","col-12","col-md-6",3,"ngClass"],["class","d-flex flex-column p-float-label",4,"ngIf"],["class","d-flex",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"d-flex","flex-column","p-float-label"],["pInputText","",3,"id","type","formControlName","input",4,"ngIf"],[3,"for",4,"ngIf"],[3,"style","options","formControlName","placeholder","optionLabel","optionValue","showClear","onChange",4,"ngIf"],["dateFormat","dd-mm-yy",3,"formControlName","inputId","id","onSelect",4,"ngIf"],["pInputTextarea","",3,"rows","formControlName","cols","input",4,"ngIf"],["pInputText","",3,"id","type","formControlName","input"],[3,"for"],[3,"options","formControlName","placeholder","optionLabel","optionValue","showClear","onChange"],["dateFormat","dd-mm-yy",3,"formControlName","inputId","id","onSelect"],["pInputTextarea","",3,"rows","formControlName","cols","input"],[1,"d-flex"],[1,"col-md-10","col-8",3,"for"],[1,"mt-auto","col-2",3,"id","formControlName","onChange"],[1,"text-danger"],["pButton","","pRipple","","type","submit",1,"d-block","w-full","rounded","mt-3","text-white","save-btn",3,"label"]],template:function(o,v){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return v.Confirm()}),t.YNc(1,U,4,4,"div",1),t.YNc(2,K,2,3,"button",2),t.qZA()),2&o&&(t.Q6J("formGroup",v.formControlFromParent),t.xp6(1),t.Q6J("ngForOf",v.inputs),t.xp6(1),t.Q6J("ngIf","details"!=v.action))},dependencies:[p.mk,p.sg,p.O5,f._Y,f.Fj,f.JJ,f.JL,h.Hq,g.Lt,P.o,y.g,f.sg,f.u,A.Ql,w.f,u.X$],styles:["[_nghost-%COMP%]  .p-dropdown .p-dropdown-label.p-placeholder{opacity:1}"]}),d})()}}]);