"use strict";(self.webpackChunkAngularBase=self.webpackChunkAngularBase||[]).push([[592],{364:(v,m,o)=>{o.d(m,{I:()=>t});var t=(()=>{return(r=t||(t={})).LOW="low",r.MEDIUM="medium",r.HIGH="high",t;var r})()},583:(v,m,o)=>{o.d(m,{L:()=>g});var t=o(4006),r=o(965),h=o(3189),e=o(8274),c=o(8498),u=o(6895),f=o(7215),p=o(1740),i=o(3425);function _(a,P){1&a&&(e.TgZ(0,"p",18),e._uU(1," Email is required "),e.qZA())}function l(a,P){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,_,2,0,"p",17),e.qZA()),2&a){const d=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=d.loginForm.get("email"))?null:n.getError("required"))}}function s(a,P){1&a&&(e.TgZ(0,"p",20),e._uU(1," Password is required "),e.qZA())}function E(a,P){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,s,2,0,"p",19),e.qZA()),2&a){const d=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=d.loginForm.get("password"))?null:n.getError("required"))}}let g=(()=>{class a extends h.c{constructor(d,n){super(d),this.authService=n,this.isError=!1,this.loginForm=new t.cw({email:new t.NI(null,[t.kI.required,t.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new t.NI(null,[t.kI.required])}),this.pass=""}ngOnInit(){}login(){let d=new r.x;d.password=this.loginForm.value.password,d.email=this.loginForm.value.email,this.loginForm.valid&&this.authService.login(d).subscribe(n=>{n?.result?.token&&(this.authService.handleAuthData(n.result.token,n.result.user._id,n.result.user.name,n.result.user.role),localStorage.getItem("hoistRole")==r.q.ADMIN?this.router.navigate(["/adminpanel/dashboard"]):localStorage.getItem("hoistRole")==r.q.Client?this.router.navigate(["/clientpanel/dashboard"]):localStorage.getItem("hoistRole")==r.q.INSPECTOR&&this.router.navigate(["/employeepanel/dashboard"]))})}}return a.\u0275fac=function(d){return new(d||a)(e.Y36(e.zs3),e.Y36(c.$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-login-page"]],features:[e.qOj],decls:24,vars:4,consts:[[1,"block-content","loginPage","bg-light"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"d-flex","justify-content-end"],["src","../../../assets/images/Final logo.png","height","60px","alt","Logo",1,"logo","mt-4","drop-shadow"],[1,"align-items-center","mt-3","d-flex","justify-content-center","lg:px-8","md:px-6","px-4","py-5","bg-dark","login-container"],[1,"surface-card","shadow-2","rounded","w-full","lg:w-20"],[1,"m-0","fw-bold","text-center","text-light","mb-5"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"mb-2","text-light","d-block"],["required","","id","email","formControlName","email","type","text","pInputText","",1,"p-inputtext-lg","w-full","bg-secondary"],[4,"ngIf"],["for","password",1,"mb-2","text-light","d-block"],["required","","inputId","password","formControlName","password",1,"p-inputtext-lg","bg-secondary",3,"toggleMask"],[1,"mt-2","mb-4","text-end"],["routerLink","/authentication/forgotPassword",1,"color-error","forgotPassword","text-blue-500","cursor-pointer","underline","text-decoration-underline"],[1,"btn","btn-lg","bg-primary","text-light","w-100",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","text-danger","id","passValidate",4,"ngIf"],["id","passValidate",1,"text-danger"]],template:function(d,n){if(1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"h2",6),e._uU(7,"REGISTER"),e.qZA(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(9,"div",8)(10,"label",9),e._uU(11,"E-mail"),e.qZA(),e._UZ(12,"input",10),e.YNc(13,l,2,1,"div",11),e.qZA(),e.TgZ(14,"div")(15,"label",12),e._uU(16," Password "),e.qZA(),e._UZ(17,"p-password",13),e.YNc(18,E,2,1,"div",11),e.qZA(),e.TgZ(19,"div",14)(20,"a",15),e._uU(21,"Forgot Password?"),e.qZA()(),e.TgZ(22,"button",16),e._uU(23," Login "),e.qZA()()()()()()),2&d){let C,O;e.xp6(8),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",n.isError||n.loginForm.get("email")&&(null==(C=n.loginForm.get("email"))?null:C.touched)),e.xp6(4),e.Q6J("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",n.isError||n.loginForm.get("password")&&(null==(O=n.loginForm.get("password"))?null:O.touched))}},dependencies:[u.O5,t._Y,t.Fj,t.JJ,t.JL,t.Q7,f.yS,p.o,t.sg,t.u,i.ro],styles:[".login-container[_ngcontent-%COMP%]{width:35vw;border-radius:25px}.loginPage[_ngcontent-%COMP%]{background-image:url(login-background.b3aad121123d7020.svg);background-repeat:no-repeat;background-position:center;background-size:cover}@media (min-width: 320px) and (max-width: 768px){.login-container[_ngcontent-%COMP%]{width:100vw}.loginPage[_ngcontent-%COMP%]{background-image:none}.drop-shadow[_ngcontent-%COMP%]{filter:none!important}}.drop-shadow[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 10px rgba(2,2,2,.7))}[_nghost-%COMP%]     .p-password .p-password-input{background-color:var(--bs-secondary)!important;color:#fff!important;border-radius:8px;width:25rem!important}input[_ngcontent-%COMP%]{width:25rem;border-radius:8px;color:#fff!important}@media (min-width: 320px) and (max-width: 766px){input[_ngcontent-%COMP%]{width:18rem}[_nghost-%COMP%]     .p-password .p-password-input{width:18rem!important}}@media (min-width: 767px) and (max-width: 1026px){.login-container[_ngcontent-%COMP%]{padding:35px 1px!important;width:60vw}}button[_ngcontent-%COMP%]:hover{transition:all .2s ease-in-out;background-color:#1a54b6!important}.forgotPassword[_ngcontent-%COMP%]:hover{transition:all .2s ease-in-out;color:#ff2121!important;text-decoration:none!important}"]}),a})()},7351:(v,m,o)=>{o.d(m,{z:()=>p});var t=o(529),r=o(8165),h=o(5577),e=o(262),c=o(2843),u=o(8274),f=o(7215);let p=(()=>{class i extends r.gF{constructor(l,s){super(l),this.router=s,this.AUTH_BACK=this.BACKEND}getDDL(l){let s=this.AUTH_BACK+"admin/"+l;s=s.replace(/[?&]$/,"");let E={...this.optionsConfig};return this.http.request("get",s,E).pipe((0,h.z)(g=>(0,r.zx)(g))).pipe((0,e.K)(g=>{if(!(g instanceof t.QO))return(0,c._)(g);try{return(0,r.zx)(g)}catch(a){return(0,c._)(a)}}))}getEmployeeDDL(l){let s=this.AUTH_BACK+"employee/"+l;s=s.replace(/[?&]$/,"");let E={...this.optionsConfig};return this.http.request("get",s,E).pipe((0,h.z)(g=>(0,r.zx)(g))).pipe((0,e.K)(g=>{if(!(g instanceof t.QO))return(0,c._)(g);try{return(0,r.zx)(g)}catch(a){return(0,c._)(a)}}))}}return i.\u0275fac=function(l){return new(l||i)(u.LFG(u.zs3),u.LFG(f.F0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5367:(v,m,o)=>{o.d(m,{G:()=>c});var t=o(8274),r=o(5648),h=o(805),e=o(9983);let c=(()=>{class u{constructor(p){this.messageService=p,this.changeFile=!1,this.fileUploaded=new t.vpe,this.uploadBtn={icon:"pi pi-plus",label:"Browse"}}ngOnChanges(){this.changeFile&&(this.uploadBtn={icon:"pi pi-replay",label:"Change"})}uploadFile(p){let i,_;if(p?.files[0]){const l=p?.files[0];(0,r.Nm)(l.objectURL.changingThisBreaksApplicationSecurity).then(s=>{i=(0,r.XI)(s),_=l.name,this.uploadBtn={icon:"pi-check",label:"Uploaded"},this.fileUploaded.emit({imageBase64:i,fileName:_})}).catch(s=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error uploading file",life:3e3}),i=null,_=null,this.uploadBtn={icon:"pi-times",label:"Error"},this.fileUploaded.emit({imageBase64:i,fileName:_})})}}}return u.\u0275fac=function(p){return new(p||u)(t.Y36(h.ez))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-file-uploader"]],inputs:{changeFile:"changeFile"},outputs:{fileUploaded:"fileUploaded"},features:[t.TTD],decls:1,vars:4,consts:[["mode","basic","accept","image/*","styleClass","save-btn",3,"auto","customUpload","chooseLabel","chooseIcon","uploadHandler"]],template:function(p,i){1&p&&(t.TgZ(0,"p-fileUpload",0),t.NdJ("uploadHandler",function(l){return i.uploadFile(l)}),t.qZA()),2&p&&t.Q6J("auto",!0)("customUpload",!0)("chooseLabel",i.uploadBtn.label)("chooseIcon",i.uploadBtn.icon)},dependencies:[e.p]}),u})()}}]);