"use strict";(self.webpackChunkAngularBase=self.webpackChunkAngularBase||[]).push([[398],{1995:(w,I,i)=>{i.d(I,{a:()=>n,b:()=>t});var t=(()=>{return(p=t||(t={})).NORMAL="normal",p.ENUM="enum",p.BOOLEAN="boolean",p.DATE="date",p.IMAGE="image",p.ICON="icon",t;var p})(),n=(()=>{return(p=n||(n={})).DETAILS="details",p.EDIT="edit",p.DELETE="delete",p.ADD="add",n;var p})()},364:(w,I,i)=>{i.d(I,{I:()=>t});var t=(()=>{return(n=t||(t={})).LOW="low",n.MEDIUM="medium",n.HIGH="high",t;var n})()},850:(w,I,i)=>{i.d(I,{Q:()=>t});var t=(()=>{return(n=t||(t={})).INPUT="input",n.DROPDOWM="dropdown",n.TEXTAREA="textarea",n.CALENDAR="calendar",n.SWITCH="switch",t;var n})()},8731:(w,I,i)=>{i.d(I,{C2:()=>t,R8:()=>n,Sh:()=>p,Xt:()=>g,tz:()=>f});var t=(()=>{return(h=t||(t={})).PCLTR="Primary_Crane_LT_Report",h.PTCR="Primary_Test_Certificate_Report",h.PVCR="Primary_Visual_Certificate_Report",t;var h})(),n=(()=>{return(h=n||(n={})).COMPLETED="Completed",h.UNCOMLPETED="Uncompleted",n;var h})(),p=(()=>{return(h=p||(p={})).LOW="low",h.MEDIUM="medium",h.HIGH="high",p;var h})(),f=(()=>{return(h=f||(f={})).QUARANTINED="quarantined",h.FIXED="fixed",h.IGNORED="ignored",f;var h})(),g=(()=>{return(h=g||(g={})).ACCEPTED="accepted",h.REJECTED="rejected",g;var h})()},2241:(w,I,i)=>{i.d(I,{L:()=>p});var t=i(4833),n=i(8274);let p=(()=>{class f{}return f.\u0275fac=function(h){return new(h||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({imports:[t.h]}),f})()},2397:(w,I,i)=>{i.d(I,{c:()=>s});var t=i(965),n=i(8274),p=i(3794),f=i(6895),g=i(7861);function h(a,c){1&a&&(n.TgZ(0,"div",3),n._UZ(1,"i",4),n.qZA())}function y(a,c){if(1&a&&(n.TgZ(0,"div",9)(1,"div",10)(2,"p",11),n._uU(3),n.qZA(),n.TgZ(4,"h3",12),n._uU(5),n.qZA()(),n.TgZ(6,"div",18),n._UZ(7,"i",19),n.qZA()()),2&a){const r=c.$implicit,T=c.index,A=n.oxw(2);n.xp6(3),n.hij("Total ",r," :"),n.xp6(2),n.hij(" ",A.usersInstallationEquipmentsCards[r]," "),n.xp6(2),n.Q6J("ngClass",A.usersInstallationEquipmentsCardsicons[T])}}function N(a,c){if(1&a&&(n.TgZ(0,"div",9)(1,"div",10)(2,"p",11),n._uU(3),n.qZA(),n.TgZ(4,"h3",12),n._uU(5),n.qZA()(),n.TgZ(6,"div",18),n._UZ(7,"i",19),n.qZA()()),2&a){const r=c.$implicit,T=c.index,A=n.oxw(2);n.xp6(3),n.hij("Total ",r," :"),n.xp6(2),n.hij(" ",A.DashboardReportsDefectsCards[r]," "),n.xp6(2),n.Q6J("ngClass",A.DashboardReportsDefectsCardsicons[T])}}const v=function(){return{width:"25%"}};function Z(a,c){if(1&a&&n._UZ(0,"p-chart",20),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,v)),n.Q6J("data",r.userChart)}}function u(a,c){if(1&a&&n._UZ(0,"p-chart",21),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,v)),n.Q6J("data",r.equiChart)}}function m(a,c){if(1&a&&n._UZ(0,"p-chart",21),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,v)),n.Q6J("data",r.inspectionChart)}}function C(a,c){if(1&a&&n._UZ(0,"p-chart",22),2&a){const r=n.oxw(2);n.Akn(n.DdM(3,v)),n.Q6J("data",r.defectChart)}}function x(a,c){if(1&a&&(n.TgZ(0,"div")(1,"div",5)(2,"h3"),n._uU(3),n.qZA()(),n.TgZ(4,"div",6),n.YNc(5,y,8,3,"div",7),n.qZA(),n.TgZ(6,"div",8),n.YNc(7,N,8,3,"div",7),n.TgZ(8,"div",9)(9,"div",10)(10,"p",11),n._uU(11,"Valid Reports :"),n.qZA(),n.TgZ(12,"h3",12),n._uU(13),n.qZA()(),n.TgZ(14,"div",10)(15,"p",11),n._uU(16,"Expired Reports:"),n.qZA(),n.TgZ(17,"h3",12),n._uU(18),n.qZA()()()(),n.TgZ(19,"div",13),n.YNc(20,Z,1,4,"p-chart",14),n.YNc(21,u,1,4,"p-chart",15),n.qZA(),n.TgZ(22,"div",16),n.YNc(23,m,1,4,"p-chart",15),n.YNc(24,C,1,4,"p-chart",17),n.qZA()()),2&a){const r=n.oxw();n.xp6(3),n.hij("",r.pageTitle," Page"),n.xp6(2),n.Q6J("ngForOf",r.usersInstallationEquipmentsCardsKey),n.xp6(2),n.Q6J("ngForOf",r.DashboardReportsDefectsCardsKey),n.xp6(6),n.hij(" ",null==r.DashboardReportExpireCard?null:r.DashboardReportExpireCard.nonExpiredReportsCount," "),n.xp6(5),n.hij(" ",null==r.DashboardReportExpireCard?null:r.DashboardReportExpireCard.expiredReportsCount," "),n.xp6(2),n.Q6J("ngIf","admin"==r.role&&!r.isUserChart),n.xp6(1),n.Q6J("ngIf",!r.isEquiChart),n.xp6(2),n.Q6J("ngIf",!r.isInspectionChart),n.xp6(1),n.Q6J("ngIf",!r.isDefectChart)}}let s=(()=>{class a{constructor(r){this.dashboardService=r,this.pageTitle="Dashboard",this.role="",this.isDataLoaded=!1,this.isUserChart=!1,this.isEquiChart=!1,this.isInspectionChart=!1,this.isDefectChart=!1,this.usersInstallationEquipmentsCardsKey=[],this.DashboardReportsDefectsCardsKey=[],this.usersInstallationEquipmentsCardsicons=["pi-user","pi-th-large","pi-wrench"],this.DashboardReportsDefectsCardsicons=["pi-file","pi-file-excel"]}ngOnInit(){this.getCardsData(),this.role=localStorage.getItem("hoistRole")}getCardsData(){this.dashboardService.getAll("dashboard/card/users-installation-equipments").subscribe(r=>{r.success&&(this.isDataLoaded=!0,this.usersInstallationEquipmentsCards=r.result,this.role!=t.q.ADMIN&&delete this.usersInstallationEquipmentsCards.Users,this.usersInstallationEquipmentsCardsKey=Object.keys(this.usersInstallationEquipmentsCards))}),this.dashboardService.getAll("dashboard/card/reports-defects").subscribe(r=>{r.success&&(this.DashboardReportsDefectsCards=r.result,this.DashboardReportsDefectsCardsKey=Object.keys(this.DashboardReportsDefectsCards))}),this.dashboardService.getAll("dashboard/card/report-expire").subscribe(r=>{r.success&&(this.DashboardReportExpireCard=r.result)}),this.role!=t.q.ADMIN&&this.dashboardService.getAll("dashboard/chart/users").subscribe(r=>{let T=r.result;r.success&&(this.isUserChart=T.data.every(A=>0===A),this.userChart={labels:T.labels,datasets:[{data:T.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/equipments").subscribe(r=>{let T=r.result;r.success&&(this.isEquiChart=T.data.every(A=>0===A),this.equiChart={labels:T.labels,datasets:[{data:T.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/reports").subscribe(r=>{let T=r.result;r.success&&(this.isInspectionChart=T.data.every(A=>0===A),this.inspectionChart={labels:T.labels,datasets:[{data:T.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})}),this.dashboardService.getAll("dashboard/chart/defects").subscribe(r=>{let T=r.result;r.success&&(this.isDefectChart=T.data.every(A=>0===A),this.defectChart={labels:T.labels,datasets:[{data:T.data,backgroundColor:["#40A2E3","#0D9276","#A25772"],hoverBackgroundColor:["#40A2E3","#0D9276","#A25772"]}]})})}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(p.I))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-dashboard-page"]],decls:3,vars:2,consts:[[1,"overflow-hidden"],["class","container d-flex flex-wrap fw-bold fs-1 fa-spin text-warning justify-content-center align-items-center","style","height: 100vh; width: 80vw",4,"ngIf"],[4,"ngIf"],[1,"container","d-flex","flex-wrap","fw-bold","fs-1","fa-spin","text-warning","justify-content-center","align-items-center",2,"height","100vh","width","80vw"],[1,"fa","fa-spinner"],[1,"header","d-flex","justify-content-between","p-3","mb-2"],[1,"d-flex","flex-wrap","justify-content-evenly"],["class","d-flex flex-wrap justify-content-between card-cont rounded shadow w-25 py-3 px-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","justify-content-evenly","mt-4"],[1,"d-flex","flex-wrap","justify-content-between","card-cont","rounded","shadow","w-25","py-3","px-2"],[1,""],[1,"m-0","text-secondary"],[1,"mt-1","text-dark","fw-bold"],[1,"d-flex","justify-content-around","mt-4","flex-wrap"],["type","pie",3,"data","style",4,"ngIf"],["type","doughnut",3,"data","style",4,"ngIf"],[1,"d-flex","justify-content-around","flex-wrap","mt-5"],["type","polarArea",3,"data","style",4,"ngIf"],[1,"card-icon","shadow","d-flex","justify-content-center","align-items-center"],[1,"pi",3,"ngClass"],["type","pie",3,"data"],["type","doughnut",3,"data"],["type","polarArea",3,"data"]],template:function(r,T){1&r&&(n.TgZ(0,"div",0),n.YNc(1,h,2,0,"div",1),n.YNc(2,x,25,9,"div",2),n.qZA()),2&r&&(n.xp6(1),n.Q6J("ngIf",!T.isDataLoaded),n.xp6(1),n.Q6J("ngIf",T.isDataLoaded))},dependencies:[f.mk,f.sg,f.O5,g.C],styles:[".card-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.card-cont[_ngcontent-%COMP%]{border-top:5px solid #545454}"]}),a})()},8498:(w,I,i)=>{i.d(I,{$:()=>N});var t=i(8165),n=i(529),p=i(5577),f=i(262),g=i(2843),h=i(8274),y=i(7215);let N=(()=>{class v extends t.gF{constructor(u,m){super(u),this.router=m,this.AUTH_BACK=this.BACKEND+"auth/"}login(u){let m=this.AUTH_BACK+"login";m=m.replace(/[?&]$/,"");const C=JSON.stringify(u);let x={...this.optionsConfig,body:C};return this.http.request("post",m,x).pipe((0,p.z)(s=>(0,t.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof n.QO))return(0,g._)(s);try{return(0,t.zx)(s)}catch(a){return(0,g._)(a)}}))}handleAuthData(u,m,C,x){const s=this.getTokenPayload(u);let a=Date.now();const c=1e3*s.exp-a,r=new Date(1e3*s.exp);localStorage.setItem("hoisttoken",u),localStorage.setItem("hoistexp",r.toISOString()),localStorage.setItem("hoistId",m),localStorage.setItem("hoistName",C),localStorage.setItem("hoistRole",x),setTimeout(()=>{this.logout()},c)}getTokenPayload(u){return JSON.parse(atob(u.split(".")[1]))}logout(u=!0){this.logoutApi().subscribe(m=>{"success"==m.message&&(localStorage.removeItem("hoisttoken"),localStorage.removeItem("hoistexp"),localStorage.removeItem("hoistId"),localStorage.removeItem("hoistName"),localStorage.removeItem("hoistImg"),u&&this.router.navigate(["/authentication/login"]))})}logoutApi(){let u=this.AUTH_BACK+"logout";u=u.replace(/[?&]$/,"");let m={...this.optionsConfig};return this.http.request("post",u,m).pipe((0,p.z)(C=>(0,t.zx)(C))).pipe((0,f.K)(C=>{if(!(C instanceof n.QO))return(0,g._)(C);try{return(0,t.zx)(C)}catch(x){return(0,g._)(x)}}))}}return v.\u0275fac=function(u){return new(u||v)(h.LFG(h.zs3),h.LFG(y.F0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},3794:(w,I,i)=>{i.d(I,{I:()=>N});var t=i(529),n=i(8165),p=i(5577),f=i(262),g=i(2843),h=i(8274),y=i(7215);let N=(()=>{class v extends n.gF{constructor(u,m){super(u),this.router=m}getAll(u){let m=this.BACKEND+u;m=m.replace(/[?&]$/,"");let C={...this.optionsConfig};return this.http.request("get",m,C).pipe((0,p.z)(x=>(0,n.zx)(x))).pipe((0,f.K)(x=>{if(!(x instanceof t.QO))return(0,g._)(x);try{return(0,n.zx)(x)}catch(s){return(0,g._)(s)}}))}getByID(u,m){let C=this.BACKEND+m+"/"+u;C=C.replace(/[?&]$/,"");let x={...this.optionsConfig};return this.http.request("get",C,x).pipe((0,p.z)(s=>(0,n.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof t.QO))return(0,g._)(s);try{return(0,n.zx)(s)}catch(a){return(0,g._)(a)}}))}add(u,m){let C=this.BACKEND+m;C=C.replace(/[?&]$/,"");const x=JSON.stringify(u);let s={...this.optionsConfig,body:x};return this.http.request("post",C,s).pipe((0,p.z)(a=>(0,n.zx)(a))).pipe((0,f.K)(a=>{if(!(a instanceof t.QO))return(0,g._)(a);try{return(0,n.zx)(a)}catch(c){return(0,g._)(c)}}))}update(u,m,C){let x=this.BACKEND+C+"/"+m;x=x.replace(/[?&]$/,"");const s=JSON.stringify(u);let a={...this.optionsConfig,body:s,params:(new t.LE).set("",m)};return this.http.request("patch",x,a).pipe((0,p.z)(c=>(0,n.zx)(c))).pipe((0,f.K)(c=>{if(!(c instanceof t.QO))return(0,g._)(c);try{return(0,n.zx)(c)}catch(r){return(0,g._)(r)}}))}delete(u,m){let C=this.BACKEND+m+"/"+u;C=C.replace(/[?&]$/,"");let x={...this.optionsConfig,params:(new t.LE).set("",u)};return this.http.request("delete",C,x).pipe((0,p.z)(s=>(0,n.zx)(s))).pipe((0,f.K)(s=>{if(!(s instanceof t.QO))return(0,g._)(s);try{return(0,n.zx)(s)}catch(a){return(0,g._)(a)}}))}addToID(u,m,C){let x=this.BACKEND+C+"/"+m;x=x.replace(/[?&]$/,"");const s=JSON.stringify(u);let a={...this.optionsConfig,body:s,params:(new t.LE).set("",m)};return this.http.request("post",x,a).pipe((0,p.z)(c=>(0,n.zx)(c))).pipe((0,f.K)(c=>{if(!(c instanceof t.QO))return(0,g._)(c);try{return(0,n.zx)(c)}catch(r){return(0,g._)(r)}}))}genralRequest(u,m,C){let x=this.BACKEND+m;x=x.replace(/[?&]$/,"");const s=JSON.stringify(C);let a=s?{...this.optionsConfig}:{...this.optionsConfig,body:s};return this.http.request(u,x,a).pipe((0,p.z)(c=>(0,n.zx)(c))).pipe((0,f.K)(c=>{if(!(c instanceof t.QO))return(0,g._)(c);try{return(0,n.zx)(c)}catch(r){return(0,g._)(r)}}))}}return v.\u0275fac=function(u){return new(u||v)(h.LFG(h.zs3),h.LFG(y.F0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},3189:(w,I,i)=>{i.d(I,{c:()=>p});var t=i(7215),n=i(4463);class p{constructor(g){this.mainBreadCrumb="",this.mainBreadCrumbLink="",this.subBreadCrumb="",this.Translate=g.get(n.sK),this.route=g.get(t.gz),this.router=g.get(t.F0),this.Translate.use(localStorage.getItem("hoistLang")||"en-US"),this.isEnglish="en-US"==this.Translate.currentLang}}},8165:(w,I,i)=>{i.d(I,{gF:()=>v,zx:()=>u});var t=i(529),n=i(5577),p=i(9646),f=i(9751),g=i(2843),h=i(8076),y=i(7400),N=i(805);class v{constructor(a){this.optionsConfig={observe:"response",responseType:"blob",headers:new t.WM({"Content-Type":"application/json",Accept:"text/plain"})},this.http=a.get(t.eN),this.appConfigServices=a.get(h._),this.BACKEND=this.appConfigServices?.appConfig?.baseURL}}function u(s){const a=s.status,c=s instanceof t.Zn?s.body:s.error instanceof Blob?s.error:void 0;let r={};if(s.headers)for(let T of s.headers.keys())r[T]=s.headers.get(T);return 200===a||201===a?C(c).pipe((0,n.z)(T=>{let A=null;return A=""===T?null:JSON.parse(T,void 0),A?.message&&"success"!=A.message&&!/^\d+$/.test(A?.message)&&m().add({severity:"success",summary:" success",detail:A?.message,life:3e3}),(0,p.of)(A)})):500==a?(m().add({severity:"error",summary:"failed",detail:"An unexpected server error occurred.",life:3e3}),new f.y):200!==a&&204!==a?C(c).pipe((0,n.z)(T=>function x(s,a,c,r,T){var A=c?JSON.parse(c):null,R=A?.message?A.message:A?.title;return null==R||null==R?401==a?m().add({severity:"error",summary:a.toString(),detail:"you are not Authorized",life:3e3}):m().add({severity:"error",summary:a.toString(),detail:s,life:3e3}):m().add({severity:"error",summary:a.toString(),detail:R,life:3e3}),(0,g._)(R)}("An unexpected server error occurred.",a,T))):(0,p.of)(null)}function m(){return y.k0.get(N.ez)}function C(s){return new f.y(a=>{if(s){let c=new FileReader;c.onload=r=>{a.next(r.target.result),a.complete()},c.readAsText(s)}else a.next(""),a.complete()})}},4930:(w,I,i)=>{i.d(I,{Q:()=>F});var t=i(8274),n=i(1995),p=i(6895),f=i(805),g=i(5593),h=i(6125),y=i(1740),N=i(4463);const v=["searchInput"];function Z(l,E){if(1&l){const o=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){t.CHM(o);const O=t.oxw(),P=t.MAs(5);return t.KtG(O.clear(P))}),t.qZA(),t.TgZ(2,"span",11),t._UZ(3,"i",12),t.TgZ(4,"input",13,14),t.NdJ("input",function(){t.CHM(o);const O=t.MAs(5);t.oxw();const P=t.MAs(5);return t.KtG(P.filterGlobal(O.value,"contains"))}),t.qZA()()()}}const u=function(){return{maxWidth:"fitContent"}};function m(l,E){if(1&l&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-columnFilter",18),t.qZA()),2&l){const o=E.$implicit;t.Q6J("ngStyle",t.DdM(5,u)),t.xp6(1),t.hij(" ",t.lcZ(2,3,o.header)," "),t.xp6(2),t.Q6J("field",o.field)}}function C(l,E){1&l&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS")," "))}function x(l,E){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,m,4,6,"th",15),t.YNc(2,C,3,3,"th",16),t.qZA()),2&l){const o=E.$implicit,_=t.oxw();t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",_.isActions)}}function s(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.xp6(1),t.hij(" ",_[o.field]?_[o.field]:"no data"," ")}}function a(l,E){if(1&l&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.Q6J("ngClass",o.enumTdObj[_[o.field]]),t.xp6(1),t.hij(" ",_[o.field]?_[o.field]:"no data"," ")}}function c(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.xp6(1),t.hij(" ",_[o.field]?"Yes":"No"," ")}}function r(l,E){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.xp6(1),t.hij(" ",_[o.field]?t.xi3(2,1,_[o.field],"yyyy-MM-dd"):"no data"," ")}}function T(l,E){if(1&l&&t._UZ(0,"span",25),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.Q6J("ngClass",o.enumTdObj[_[o.field]])}}function A(l,E){if(1&l&&t._UZ(0,"img",27),2&l){const o=t.oxw(2).$implicit,_=t.oxw().$implicit;t.Q6J("src",_[o.field],t.LSH)}}function R(l,E){1&l&&(t.TgZ(0,"span"),t._uU(1," no data"),t.qZA())}function U(l,E){if(1&l&&(t.TgZ(0,"span"),t.YNc(1,A,1,1,"img",26),t.YNc(2,R,2,0,"span",23),t.qZA()),2&l){const o=t.oxw().$implicit,_=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",_[o.field]),t.xp6(1),t.Q6J("ngIf",!_[o.field])}}const L=function(l,E,o,_){return{jobNumberHighlighted:l,reportNumberHighlighted:E,serialNumberHighlighted:o,typeCodeHighlighted:_}};function K(l,E){if(1&l&&(t.TgZ(0,"td",22),t.YNc(1,s,2,1,"span",23),t.YNc(2,a,2,2,"span",24),t.YNc(3,c,2,1,"span",23),t.YNc(4,r,3,4,"span",23),t.YNc(5,T,1,1,"span",24),t.YNc(6,U,3,2,"span",23),t.qZA()),2&l){const o=E.$implicit,_=t.oxw(2);t.Q6J("ngClass",t.l5B(7,L,"jobNumber"===o.field,"reportName"===o.field,"serialNumber"===o.field,"typeCode"===o.field)),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.NORMAL),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.ENUM),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.BOOLEAN),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.DATE),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.ICON),t.xp6(1),t.Q6J("ngIf",o.rowType==_.dataTableRowType.IMAGE)}}function J(l,E){if(1&l){const o=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(o);const O=t.oxw(2).$implicit,P=t.oxw();return t.KtG(P.actionBtnClicked("details",O._id))}),t.qZA()}}function Q(l,E){if(1&l){const o=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(o);const O=t.oxw(2).$implicit,P=t.oxw();return t.KtG(P.actionBtnClicked("edit",O._id))}),t.qZA()}}function S(l,E){if(1&l){const o=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(o);const O=t.oxw(2).$implicit,P=t.oxw();return t.KtG(P.actionBtnClicked("delete",O._id))}),t.qZA()}}function d(l,E){if(1&l){const o=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(o);const O=t.oxw().$implicit,P=t.oxw(2).$implicit,B=t.oxw();return t.KtG(B.actionBtnClicked(O.actionFunction,P._id))}),t.qZA()}if(2&l){const o=t.oxw().$implicit;t.Q6J("icon",o.icon)("ngClass",o.style)}}function M(l,E){if(1&l&&(t.TgZ(0,"span"),t.YNc(1,d,1,2,"button",35),t.qZA()),2&l){const o=E.$implicit,_=t.oxw(2).$implicit,O=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isConditionalAction&&O.setConditionalByRow(o,_))}}const e=function(l){return{minWidth:l}};function b(l,E){if(1&l&&(t.TgZ(0,"td"),t.YNc(1,J,1,0,"button",28),t.YNc(2,Q,1,0,"button",29),t.YNc(3,S,1,0,"button",30),t.YNc(4,M,2,1,"span",31),t.qZA()),2&l){const o=t.oxw(2);t.Akn(t.VKq(6,e,o.conditionalAction[0].isConditionalAction?"250px":"180px")),t.xp6(1),t.Q6J("ngIf",o.isMainActions),t.xp6(1),t.Q6J("ngIf",o.isMainActions),t.xp6(1),t.Q6J("ngIf",o.isMainActions),t.xp6(1),t.Q6J("ngForOf",o.conditionalAction)}}function D(l,E){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,K,7,12,"td",20),t.YNc(2,b,5,8,"td",21),t.qZA()),2&l){const o=E.columns,_=t.oxw();t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",_.isActions)}}let F=(()=>{class l{constructor(){this.cols=[],this.data=[],this.isActions=!1,this.isMainActions=!0,this.conditionalAction=[{actionFunction:"",icon:"pi",isConditionalAction:!1,style:"p-button-rounded"}],this.actionClicked=new t.vpe,this.dataTableRowType=n.b,this.filterFields=[]}ngOnInit(){this.getFieldsName()}setConditionalByRow(o,_){let O=!1,P=o.conditionalByRow?.data,B=_[o?.conditionalByRow?.field];return"null"==P&&(P=null),O=!o.conditionalByRow?.data||(o.conditionalByRow?.allButData?P!=B:P==B),O}getFieldsName(){this.cols.map(o=>{this.filterFields.push(o.field)})}actionBtnClicked(o,_){this.actionClicked.emit({action:o,id:_})}clear(o){this.searchInput.nativeElement.value="",o.clear()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-data-table"]],viewQuery:function(o,_){if(1&o&&t.Gf(v,5),2&o){let O;t.iGM(O=t.CRH())&&(_.searchInput=O.first)}},inputs:{cols:"cols",data:"data",isActions:"isActions",isMainActions:"isMainActions",conditionalAction:"conditionalAction"},outputs:{actionClicked:"actionClicked"},decls:9,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[2,"width","100%"],[3,"columns","value","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","justify-content-between"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["searchInput",""],["class","text-center","style","text-align: center",3,"ngStyle",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"text-center",2,"text-align","center",3,"ngStyle"],["type","text","display","menu",3,"field"],[1,"text-center"],["class","text-center",3,"ngClass",4,"ngFor","ngForOf"],[3,"style",4,"ngIf"],[1,"text-center",3,"ngClass"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["alt","image",3,"src",4,"ngIf"],["alt","image",3,"src"],["pButton","","pRipple","","icon","pi pi-eye","class","p-button-rounded p-button-text p-button-info",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-text","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","class","p-button-text",3,"icon","ngClass","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-text",3,"icon","ngClass","click"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p-table",4,5),t.YNc(6,Z,6,0,"ng-template",6),t.YNc(7,x,3,2,"ng-template",7),t.YNc(8,D,3,2,"ng-template",8),t.qZA()()()()()),2&o&&(t.xp6(4),t.Q6J("columns",_.cols)("value",_.data)("globalFilterFields",_.filterFields))},dependencies:[p.mk,p.sg,p.O5,p.PC,f.jx,g.Hq,h.iA,h.xl,y.o,p.uU,N.X$],styles:[".full-width-table[_ngcontent-%COMP%]   .p-datatable[_ngcontent-%COMP%]{width:100%!important}  .p-datatable th{max-width:-moz-fit-content!important;max-width:fit-content!important}  .p-datatable td,   .p-datatable th{padding:.25rem!important;margin:10px!important;text-align:center!important;font-size:12px}  .p-datatable th{font-size:14px;font-weight:bolder}.jobNumberHighlighted[_ngcontent-%COMP%], .reportNumberHighlighted[_ngcontent-%COMP%], .serialNumberHighlighted[_ngcontent-%COMP%], .typeCodeHighlighted[_ngcontent-%COMP%]{font-weight:700;color:#034286}"]}),l})()},9070:(w,I,i)=>{i.d(I,{E:()=>S});var t=i(8274),n=i(1995),p=i(6895),f=i(4006),g=i(5593),h=i(666),y=i(1740),N=i(3054),v=i(7913),Z=i(585),u=i(4463);function m(d,M){if(1&d){const e=t.EpF();t.TgZ(0,"input",13),t.NdJ("input",function(){t.CHM(e);const D=t.oxw(2).$implicit,F=t.oxw();return t.KtG(D.conditinalFunction?F.conditionalOnChange(D.conditinalFunction):null)}),t.qZA()}if(2&d){const e=t.oxw(2).$implicit;t.Q6J("id",e.id)("type",e.type)("formControlName",e.formControlName)}}function C(d,M){if(1&d&&(t.TgZ(0,"label",14),t._uU(1),t.qZA()),2&d){const e=t.oxw(2).$implicit;t.Q6J("for",e.id),t.xp6(1),t.Oqu(e.placeholder)}}const x=function(){return{width:"100%"}};function s(d,M){if(1&d){const e=t.EpF();t.TgZ(0,"p-dropdown",15),t.NdJ("onChange",function(){t.CHM(e);const D=t.oxw(2).$implicit,F=t.oxw();return t.KtG(D.conditinalFunction?F.conditionalOnChange(D.conditinalFunction):null)}),t.qZA()}if(2&d){const e=t.oxw(2).$implicit;t.Akn(t.DdM(8,x)),t.Q6J("options",null==e||null==e.dropdownOpt?null:e.dropdownOpt.options)("formControlName",e.formControlName)("placeholder",e.placeholder)("optionLabel",null==e||null==e.dropdownOpt?null:e.dropdownOpt.optionLabel)("optionValue",null==e||null==e.dropdownOpt?null:e.dropdownOpt.optionValue)("showClear",!1)}}const a=function(){return{minWidth:"100%"}};function c(d,M){if(1&d){const e=t.EpF();t.TgZ(0,"p-calendar",16),t.NdJ("onSelect",function(){t.CHM(e);const D=t.oxw(2).$implicit,F=t.oxw();return t.KtG(D.conditinalFunction?F.conditionalOnChange(D.conditinalFunction):null)}),t.qZA()}if(2&d){const e=t.oxw(2).$implicit;t.Akn(t.DdM(5,a)),t.Q6J("formControlName",e.formControlName)("inputId",e.id)("id",e.id)}}function r(d,M){if(1&d&&(t.TgZ(0,"label",14)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&d){const e=t.oxw(2).$implicit,b=t.oxw();let D;t.Q6J("for",e.id),t.xp6(2),t.hij(" ",e.placeholder," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,null==(D=b.formControlFromParent.get(e.formControlName))?null:D.value)," ")}}function T(d,M){if(1&d){const e=t.EpF();t.TgZ(0,"textarea",17),t.NdJ("input",function(){t.CHM(e);const D=t.oxw(2).$implicit,F=t.oxw();return t.KtG(D.conditinalFunction?F.conditionalOnChange(D.conditinalFunction):null)}),t.qZA()}if(2&d){const e=t.oxw(2).$implicit;t.Q6J("rows",null==e||null==e.textareaOpt?null:e.textareaOpt.rows)("formControlName",e.formControlName)("cols",null==e||null==e.textareaOpt?null:e.textareaOpt.cols)}}function A(d,M){if(1&d&&(t.TgZ(0,"label",14),t._uU(1),t.qZA()),2&d){const e=t.oxw(2).$implicit;t.Q6J("for",e.id),t.xp6(1),t.Oqu(e.placeholder)}}function R(d,M){if(1&d&&(t.TgZ(0,"div",7),t.YNc(1,m,1,3,"input",8),t.YNc(2,C,2,2,"label",9),t.YNc(3,s,1,9,"p-dropdown",10),t.YNc(4,c,1,6,"p-calendar",11),t.YNc(5,r,6,5,"label",9),t.YNc(6,T,1,3,"textarea",12),t.YNc(7,A,2,2,"label",9),t.qZA()),2&d){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","input"==e.element),t.xp6(1),t.Q6J("ngIf","input"==e.element),t.xp6(1),t.Q6J("ngIf","dropdown"==e.element),t.xp6(1),t.Q6J("ngIf","calendar"==e.element),t.xp6(1),t.Q6J("ngIf","calendar"==e.element),t.xp6(1),t.Q6J("ngIf","textarea"==e.element),t.xp6(1),t.Q6J("ngIf","textarea"==e.element)}}function U(d,M){if(1&d&&(t.TgZ(0,"p",22),t._uU(1),t.qZA()),2&d){const e=t.oxw(2).$implicit,b=t.oxw();let D;t.xp6(1),t.hij(" ",e.switchLabel[null==(D=b.formControlFromParent.get(e.formControlName))?null:D.value]?e.switchLabel[null==(D=b.formControlFromParent.get(e.formControlName))?null:D.value]:e.switchLabel.false," ")}}function L(d,M){if(1&d){const e=t.EpF();t.TgZ(0,"div",18)(1,"label",19),t._uU(2),t.qZA(),t.YNc(3,U,2,1,"p",20),t.TgZ(4,"p-inputSwitch",21),t.NdJ("onChange",function(){t.CHM(e);const D=t.oxw().$implicit,F=t.oxw();return t.KtG(D.conditinalFunction?F.conditionalOnChange(D.conditinalFunction):null)}),t.qZA()()}if(2&d){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("for",e.id),t.xp6(1),t.Oqu(e.placeholder),t.xp6(1),t.Q6J("ngIf",e.isSwitchLabel),t.xp6(1),t.Q6J("id",e.id)("formControlName",e.formControlName)}}function K(d,M){if(1&d&&(t.TgZ(0,"small",23),t._uU(1),t.qZA()),2&d){const e=t.oxw().$implicit,b=t.oxw();let D;t.xp6(1),t.hij(" ",null!=(D=b.formControlFromParent.get(e.formControlName))&&D.hasError("required")?"This field is required":null!=(D=b.formControlFromParent.get(e.formControlName))&&D.hasError("minlength")?" Password must be at least 8 characters long.":null!=(D=b.formControlFromParent.get(e.formControlName))&&D.hasError("pattern")?" bad pattern.":null," ")}}function J(d,M){if(1&d&&(t.TgZ(0,"div",3),t.YNc(1,R,8,7,"div",4),t.YNc(2,L,5,5,"div",5),t.YNc(3,K,2,1,"small",6),t.qZA()),2&d){const e=M.$implicit,b=t.oxw();t.Q6J("ngClass",b.action!=e.conditionalAction?null:"d-none"),t.xp6(1),t.Q6J("ngIf",b.action!=e.conditionalAction),t.xp6(1),t.Q6J("ngIf","switch"==e.element),t.xp6(1),t.Q6J("ngIf",b.isError||!(null!=b.formControlFromParent.controls[e.formControlName]&&b.formControlFromParent.controls[e.formControlName].valid)&&(null==b.formControlFromParent.controls[e.formControlName]?null:b.formControlFromParent.controls[e.formControlName].touched))}}function Q(d,M){1&d&&(t._UZ(0,"button",24),t.ALo(1,"translate")),2&d&&t.s9C("label",t.lcZ(1,1,"CONFIRM"))}let S=(()=>{class d{constructor(){this.inputs=[],this.action=n.a.ADD,this.formSubmitted=new t.vpe,this.conditinalFunction=new t.vpe,this.isError=!1}ngOnInit(){}conditionalOnChange(e){e(this.formControlFromParent,this.inputs)}Confirm(){this.formControlFromParent.invalid?this.isError=!0:this.formControlFromParent.valid&&this.formSubmitted.emit(this.formControlFromParent)}}return d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-input-form"]],inputs:{inputs:"inputs",formControlFromParent:"formControlFromParent",action:"action"},outputs:{formSubmitted:"formSubmitted",conditinalFunction:"conditinalFunction"},decls:3,vars:3,consts:[[1,"container","row","justify-content-md-evenly",3,"formGroup","ngSubmit"],["class","mt-4 col-12 col-md-6",3,"ngClass",4,"ngFor","ngForOf"],["pButton","","pRipple","","class","d-block w-full rounded mt-3 text-white save-btn","type","submit",3,"label",4,"ngIf"],[1,"mt-4","col-12","col-md-6",3,"ngClass"],["class","d-flex flex-column p-float-label",4,"ngIf"],["class","d-flex",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"d-flex","flex-column","p-float-label"],["pInputText","",3,"id","type","formControlName","input",4,"ngIf"],[3,"for",4,"ngIf"],[3,"style","options","formControlName","placeholder","optionLabel","optionValue","showClear","onChange",4,"ngIf"],[3,"formControlName","inputId","style","id","onSelect",4,"ngIf"],["pInputTextarea","",3,"rows","formControlName","cols","input",4,"ngIf"],["pInputText","",3,"id","type","formControlName","input"],[3,"for"],[3,"options","formControlName","placeholder","optionLabel","optionValue","showClear","onChange"],[3,"formControlName","inputId","id","onSelect"],["pInputTextarea","",3,"rows","formControlName","cols","input"],[1,"d-flex"],[1,"col-md-10","col-8",3,"for"],["class","me-2",4,"ngIf"],[1,"mt-auto","col-2",3,"id","formControlName","onChange"],[1,"me-2"],[1,"text-danger"],["pButton","","pRipple","","type","submit",1,"d-block","w-full","rounded","mt-3","text-white","save-btn",3,"label"]],template:function(e,b){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return b.Confirm()}),t.YNc(1,J,4,4,"div",1),t.YNc(2,Q,2,3,"button",2),t.qZA()),2&e&&(t.Q6J("formGroup",b.formControlFromParent),t.xp6(1),t.Q6J("ngForOf",b.inputs),t.xp6(1),t.Q6J("ngIf","details"!=b.action))},dependencies:[p.mk,p.sg,p.O5,f._Y,f.Fj,f.JJ,f.JL,g.Hq,h.Lt,y.o,N.g,f.sg,f.u,v.Ql,Z.f,p.uU,u.X$],styles:["[_nghost-%COMP%]  .p-dropdown .p-dropdown-label.p-placeholder{opacity:1}"]}),d})()}}]);