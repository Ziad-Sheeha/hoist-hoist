"use strict";(self.webpackChunkAngularBase=self.webpackChunkAngularBase||[]).push([[632],{7632:(kt,P,d)=>{d.r(P),d.d(P,{AdminModule:()=>Tt});var v=d(7215),N=d(3189),e=d(8274),Q=d(8498),h=d(6895),y=d(5593),J=d(7919);const G=function(o){return{"sidebar-collapsed":o}},U=function(o,s){return{"pi-chevron-left":o,"pi-chevron-right":s}},B=function(o){return{content:o}};let j=(()=>{class o extends N.c{constructor(t,i){super(t),this.authService=i,this.visibleSidebar1=!1,this.isSidebarCollapsed=!1}ngOnInit(){localStorage.getItem("hoistLang")||localStorage.setItem("hoistLang","en-US"),this.items=[{label:"Dashboard",icon:"pi pi-fw pi-home",routerLink:"dashboard"},{label:"Work Order",icon:"pi pi-fw pi-comment",routerLink:"workOrder"},{label:"Employees",icon:"pi pi-fw pi-user",routerLink:"employee"},{label:"Authentication",icon:"pi pi-info-circle",routerLink:"authentication"},{label:"Clients",icon:"pi pi-fw pi-users",routerLink:"client"},{label:"Client Notification",icon:"pi pi-bell",routerLink:"notification"},{label:"Other Links",items:[{label:"Category",icon:"pi pi-fw pi-list",routerLink:"category"},{label:"Installations",icon:"pi pi-fw pi-th-large",routerLink:"installation"},{label:"Department",icon:"pi pi-fw pi-building",routerLink:"department"},{label:"Types",icon:"pi pi-fw pi-tag",routerLink:"type"}]},{label:"Equipments",icon:"pi pi-fw pi-wrench",routerLink:"equipment"},{label:"Accounts",icon:"pi pi-fw pi-user-edit",routerLink:"account"}]}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}handleLogout(){this.authService.logout(!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.zs3),e.Y36(Q.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-layout-page"]],features:[e.qOj],decls:12,vars:11,consts:[[1,"position-relative"],[1,"d-flex","flex-column","flex-shrink-0","p-3","text-white","side-grediant-background","justify-content-between","sidebar",3,"ngClass"],["href","/adminpanel/dashboard",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],["src","../../../assets/images/Final logo.png",1,"img-fluid",2,"height","30px","margin","0 auto"],[3,"model"],["pButton","","pRipple","","type","button","label","Logout","icon","pi pi-sign-out",1,"p-button-raised","p-button-danger","mt-2","fw-bold","text-start",3,"click"],["type","button",1,"btn","toggle-btn","position-absolute","translate-middle-y","btn-toggle-sidebar",3,"click"],[1,"pi",3,"ngClass"],[1,"d-flex","flex-column",3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),e._UZ(4,"img",3),e.qZA(),e._UZ(5,"hr")(6,"p-panelMenu",4),e.qZA(),e.TgZ(7,"a",5),e.NdJ("click",function(){return i.handleLogout()}),e.qZA()(),e.TgZ(8,"button",6),e.NdJ("click",function(){return i.toggleSidebar()}),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"router-outlet"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(4,G,i.isSidebarCollapsed)),e.xp6(5),e.Q6J("model",i.items),e.xp6(3),e.Q6J("ngClass",e.WLB(6,U,i.isSidebarCollapsed,!i.isSidebarCollapsed)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,B,!i.isSidebarCollapsed)))},dependencies:[h.mk,v.lC,y.Hq,J.f3],styles:[".side-grediant-background[_ngcontent-%COMP%]{background:#f8f8f8}  .p-panelmenu .p-panelmenu-content .p-menuitem .p-menuitem-link .p-menuitem-text,   .p-panelmenu .p-panelmenu-content .p-menuitem .p-menuitem-link:not(.p-disabled):hover .p-menuitem-text{color:var(--bs-dark)!important}  .p-panelmenu-header-link, .p-menuitem[_ngcontent-%COMP%], .p-submenu-list[_ngcontent-%COMP%], .p-panelmenu[_ngcontent-%COMP%]   .p-panelmenu-content[_ngcontent-%COMP%]{color:var(--bs-dark)!important;background:transparent!important}  .p-panelmenu .p-panelmenu-header>a{border:none}  .p-panelmenu .p-panelmenu-header>a:focus{transition:all .7s ease-in-out;outline:none!important}  .p-panelmenu .p-panelmenu-header>a:hover{transition:all .3s ease-in-out;background-color:#bbbbbb41!important;color:#fff}  .p-panelmenu .p-panelmenu-content{background-color:#ececec!important;border:1px solid #ccc!important;box-shadow:0 2px 5px #0000001a!important}  .p-panelmenu .p-menuitem{padding:.5rem 1rem!important}  .p-panelmenu .p-menuitem-link{color:#fff!important}  .p-panelmenu .p-menuitem-link:hover{background-color:#e4e4e4!important;color:#fff!important}.sidebar-collapsed[_ngcontent-%COMP%]{display:none!important}.sidebar-collapsed[_ngcontent-%COMP%]{max-width:100vh!important;min-height:100vh!important}.btn-toggle-sidebar[_ngcontent-%COMP%]{background-color:#464646;color:#fff;left:0;top:70px;border:none;position:fixed!important;bottom:20vh;width:40px;height:40px;border-radius:50%;z-index:1000}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;min-height:100vh;z-index:1000;overflow-y:auto}.content[_ngcontent-%COMP%]{margin-left:235px}"]}),o})();var O=d(2397),l=d(1995),b=d(4930);let Y=(()=>{class o{constructor(){this.cols=[],this.products=[]}ngOnInit(){this.getAllProducts()}getAllProducts(){this.cols=[{field:"code",header:"Code",rowType:l.b.NORMAL},{field:"name",header:"Name",rowType:l.b.NORMAL},{field:"category",header:"Category",rowType:l.b.NORMAL},{field:"quantity",header:"Quantity",rowType:l.b.NORMAL}],this.products=[{code:"007",name:"Hassan",category:"Gamed",quantity:"1"},{code:"008",name:"ALi",category:"Gamer",quantity:"1"},{code:"009",name:"Hassan",category:"Gamed",quantity:"1"},{code:"010",name:"Ali",category:"Gamer",quantity:"1"},{code:"011",name:"Sheeha",category:"Gamed",quantity:"1"}]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-products-page"]],decls:1,vars:2,consts:[[3,"cols","data"]],template:function(t,i){1&t&&e._UZ(0,"app-data-table",0),2&t&&e.Q6J("cols",i.cols)("data",i.products)},dependencies:[b.Q]}),o})();var u=d(3794),f=d(805),_=d(1493),D=d(2137),n=d(4006),T=(()=>{return(o=T||(T={})).SUPERVISOR="Supervisor",o.INSPECTOR="Inspector",o.TECHNICIAN="Technician",T;var o})(),p=d(850),I=d(7351),M=d(2453),z=d(5054),C=d(9070),L=d(5367);function V(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-file-uploader",6),e.NdJ("fileUploaded",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.fileUploaded(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("changeFile",!!t.image)}}function W(o,s){if(1&o&&e._UZ(0,"p-image",7),2&o){const t=e.oxw();e.Q6J("src",t.image)("preview",!0)}}let H=(()=>{class o{constructor(t,i,a){this.employeeDDLService=t,this.employeeService=i,this.messageService=a,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.fileName="",this.base64Image="",this.image="",this.employeeFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),role:new n.NI(null,[n.kI.required]),email:new n.NI(null,[n.kI.required,n.kI.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}")]),phone:new n.NI(null,[n.kI.required,n.kI.pattern(/^\+?\d{1,3}\d{3,14}$/)]),password:new n.NI(null,this.action==l.a.ADD?[n.kI.required,n.kI.minLength(8)]:null)}),this.inputs=[{placeholder:"Employee Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Role",formControlName:"role",type:"text",id:"role",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:Object.values(T)}},{placeholder:"Employee Email",formControlName:"email",type:"text",id:"email",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Employee Phone",formControlName:"phone",type:"text",id:"phone",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Password",formControlName:"password",type:"password",id:"password",errorMessage:"this field is required",element:p.Q.INPUT,conditionalAction:l.a.EDIT}]}ngOnInit(){this.setFormDataAccordingToAction()}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.employeeFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.employeeService.getByID(this.empId,"admin/employees").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){t.signeture&&(this.image=t.signeture);const i=Object.keys(this.employeeFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.employeeFormGroup.patchValue(a)}fileUploaded(t){this.fileName=t.fileName,this.base64Image=t.imageBase64}formSubmitted(t){switch(this.action){case"add":if(this.base64Image){let a={...t.value,signeture:this.base64Image};this.callCrudApi(a)}else this.messageService.add({severity:"error",summary:"Error",detail:"Image is required"});break;case"edit":let i={...t.value,signeture:this.base64Image?this.base64Image:null};this.callCrudApi(i)}}callCrudApi(t){switch(this.action){case"add":this.employeeService.add(t,"admin/employees").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.employeeService.update(t,this.empId,"admin/employees").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I),e.Y36(f.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-dialog-content"]],inputs:{action:"action",empId:"empId"},outputs:{closeDialog:"closeDialog"},decls:7,vars:5,consts:[["position","bottom-right"],[1,"d-flex"],[1,"me-2"],[3,"changeFile","fileUploaded",4,"ngIf"],["class","product-image w-full d-block mt-2","width","250",3,"src","preview",4,"ngIf"],[3,"inputs","formControlFromParent","action","formSubmitted"],[3,"changeFile","fileUploaded"],["width","250",1,"product-image","w-full","d-block","mt-2",3,"src","preview"]],template:function(t,i){1&t&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Signiture"),e.qZA(),e.YNc(4,V,1,1,"app-file-uploader",3),e.qZA(),e.YNc(5,W,1,2,"p-image",4),e.TgZ(6,"app-input-form",5),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf","details"!=i.action),e.xp6(1),e.Q6J("ngIf",i.image),e.xp6(1),e.Q6J("inputs",i.inputs)("formControlFromParent",i.employeeFormGroup)("action",i.action))},dependencies:[h.O5,M.FN,z.E,C.E,L.G]}),o})();var A=d(4463);function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-employee-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("empId",t.empId)}}const K=function(){return{width:"50vw"}},$=function(){return{"960px":"75vw","640px":"100vw"}},ee=function(){return{width:"450px"}};let te=(()=>{class o{constructor(t,i){this.employeeService=t,this.confirmationService=i,this.cols=[],this.empId="",this.employees=[],this.display=!1,this.action="new",this.pageTitle="Employees"}ngOnInit(){this.getAllEmployees()}getAllEmployees(){this.cols=[{field:"name",header:"name",rowType:l.b.NORMAL},{field:"email",header:"email",rowType:l.b.NORMAL},{field:"phone",header:"phone",rowType:l.b.NORMAL},{field:"role",header:"Role",rowType:l.b.NORMAL}],this.employeeService.getAll("admin/employees").subscribe(t=>{t.success&&(this.employees=t.result)})}callAction(t){switch(this.empId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.employeeService.delete(this.empId,"admin/employees").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllEmployees()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","empId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","empId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,X,1,2,"app-employee-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.employees),e.xp6(1),e.Akn(e.DdM(19,K)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,$))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,ee)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,H,A.X$]}),o})(),ie=(()=>{class o{constructor(t){this.categoryService=t,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.categoryFormGroup=new n.cw({name:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Category Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT}]}ngOnInit(){this.setFormDataAccordingToAction()}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.categoryFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.categoryService.getByID(this.catId,"admin/category").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.categoryFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.categoryFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.categoryService.add(t,"admin/category").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.categoryService.update(t,this.catId,"admin/category").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-dialog-content"]],inputs:{action:"action",catId:"catId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.categoryFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-category-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("catId",t.catId)}}const ne=function(){return{width:"50vw"}},ae=function(){return{"960px":"75vw","640px":"100vw"}},re=function(){return{width:"450px"}};let se=(()=>{class o{constructor(t,i){this.categoryService=t,this.confirmationService=i,this.cols=[],this.catId="",this.categories=[],this.display=!1,this.action="new",this.pageTitle="Category"}ngOnInit(){this.getAllCategories()}getAllCategories(){this.cols=[{field:"categoryCode",header:"Category code",rowType:l.b.NORMAL},{field:"name",header:"name",rowType:l.b.NORMAL}],this.categoryService.getAll("admin/category").subscribe(t=>{t.success&&(this.categories=t.result)})}callAction(t){switch(this.catId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.categoryService.delete(this.catId,"admin/category").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllCategories()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","catId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","catId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,oe,1,2,"app-category-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.categories),e.xp6(1),e.Akn(e.DdM(19,ne)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,ae))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,re)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,ie,A.X$]}),o})(),le=(()=>{class o{constructor(t,i,a){this.clientDDLService=t,this.departmentService=i,this.messageService=a,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.departmentFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),client:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Department Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client",formControlName:"client",type:"text",id:"client",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionValue:"_id",optionLabel:"name"}}]}ngOnInit(){this.getClientData(),this.setFormDataAccordingToAction()}getClientData(){const t=this.inputs.find(i=>"client"===i.formControlName);this.clientDDLService.getDDL("clients/DDL").subscribe(i=>{t.dropdownOpt.options=i.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.departmentFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.departmentService.getByID(this.depId,"admin/department").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.departmentFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.departmentFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.departmentService.add(t,"admin/department").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.departmentService.update(t,this.depId,"admin/department").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I),e.Y36(f.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-department-dialog-content"]],inputs:{action:"action",depId:"depId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.departmentFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function pe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-department-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("depId",t.depId)}}const ce=function(){return{width:"50vw"}},de=function(){return{"960px":"75vw","640px":"100vw"}},ue=function(){return{width:"450px"}};let me=(()=>{class o{constructor(t,i){this.departmentService=t,this.confirmationService=i,this.cols=[],this.depId="",this.departments=[],this.display=!1,this.action="new",this.pageTitle="Department"}ngOnInit(){this.getAllDepartments()}getAllDepartments(){this.cols=[{field:"name",header:"name",rowType:l.b.NORMAL},{field:"clientName",header:"Client Name",rowType:l.b.NORMAL}],this.departmentService.getAll("admin/department").subscribe(t=>{t.success&&(this.departments=t.result)})}callAction(t){switch(this.depId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.departmentService.delete(this.depId,"admin/department").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllDepartments()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-department-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","depId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","depId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,pe,1,2,"app-department-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.departments),e.xp6(1),e.Akn(e.DdM(19,ce)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,de))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,ue)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,le,A.X$]}),o})();var w=(()=>{return(o=w||(w={})).COMPLETED="completed",o.CANCELED="canceled",o.INPROGRESS="inProgress",o.HOLD="hold",w;var o})();let he=(()=>{class o{constructor(t,i){this.allDDLService=t,this.workOrderervice=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.workOrderFormGroup=new n.cw({inspector:new n.NI(null,[n.kI.required]),client:new n.NI(null,[n.kI.required]),department:new n.NI(null,[n.kI.required]),installation:new n.NI(null,[n.kI.required]),startDate:new n.NI(null,[n.kI.required]),endDate:new n.NI(null,[n.kI.required]),location:new n.NI(null,[n.kI.required]),workingDays:new n.NI(null,[n.kI.required]),description:new n.NI(null)}),this.inputs=[{placeholder:"Location",formControlName:"location",type:"text",id:"location",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Working Days",formControlName:"workingDays",type:"number",id:"workingDays",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Inspector Name",formControlName:"inspector",type:"text",id:"inspector",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Client Name",formControlName:"client",type:"text",id:"client",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Department Name",formControlName:"department",type:"text",id:"department",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Installation Name",formControlName:"installation",type:"text",id:"installation",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Start Date",formControlName:"startDate",type:"text",id:"startDate",errorMessage:"this field is required",element:p.Q.CALENDAR},{placeholder:"End Date",formControlName:"endDate",type:"text",id:"endDate",errorMessage:"this field is required",element:p.Q.CALENDAR},{placeholder:"Description",formControlName:"description",type:"text",id:"description",errorMessage:"this field is required",element:p.Q.TEXTAREA,textareaOpt:{rows:3,cols:15}}]}ngOnInit(){this.getDDLData(),this.setFormDataAccordingToAction()}getDDLData(){const t=this.inputs.find(c=>"inspector"===c.formControlName);this.allDDLService.getDDL("employees/DDL").subscribe(c=>{t.dropdownOpt.options=c.result});const i=this.inputs.find(c=>"client"===c.formControlName);this.allDDLService.getDDL("clients/DDL").subscribe(c=>{i.dropdownOpt.options=c.result});const a=this.inputs.find(c=>"department"===c.formControlName);this.allDDLService.getDDL("department/DDL").subscribe(c=>{a.dropdownOpt.options=c.result});const r=this.inputs.find(c=>"installation"===c.formControlName);this.allDDLService.getDDL("installation/DDL").subscribe(c=>{r.dropdownOpt.options=c.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.workOrderFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.workOrderervice.getByID(this.workOrderId,"admin/workorder").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.workOrderFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.workOrderFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.workOrderervice.add(t,"admin/workorder").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.workOrderervice.update(t,this.workOrderId,"admin/workorder").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-work-order-dialog-content"]],inputs:{action:"action",workOrderId:"workOrderId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.workOrderFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-work-order-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("workOrderId",t.workOrderId)}}const fe=function(){return{width:"50vw"}},be=function(){return{"960px":"75vw","640px":"100vw"}},_e=function(){return{width:"450px"}};let Ce=(()=>{class o{constructor(t,i){this.workOrderService=t,this.confirmationService=i,this.cols=[],this.workOrderId="",this.workOrders=[],this.display=!1,this.action="new",this.pageTitle="Work Order"}ngOnInit(){this.getAllWorkOrders()}getAllWorkOrders(){this.cols=[{field:"jobNumber",header:"Job number",rowType:l.b.NORMAL},{field:"inspectorName",header:"Inspector Name",rowType:l.b.NORMAL},{field:"clientName",header:"Client Name",rowType:l.b.NORMAL},{field:"departmentName",header:"Department Name",rowType:l.b.NORMAL},{field:"installationName",header:"Installation Name",rowType:l.b.NORMAL},{field:"workingDays",header:"Working Days",rowType:l.b.NORMAL},{field:"startDate",header:"Start Date",rowType:l.b.NORMAL},{field:"endDate",header:"End Date",rowType:l.b.NORMAL},{field:"location",header:"location",rowType:l.b.NORMAL},{field:"status",header:"Status",rowType:l.b.ENUM,enumTdObj:{[w.COMPLETED]:"bg-success rounded text-white p-2",[w.CANCELED]:"bg-danger rounded text-white p-2",[w.HOLD]:"bg-info rounded text-white p-2",[w.INPROGRESS]:"bg-warning rounded text-white p-2"}}],this.workOrderService.getAll("admin/workorder").subscribe(t=>{t.success&&(this.workOrders=t.result)})}callAction(t){switch(this.workOrderId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.workOrderService.delete(this.workOrderId,"admin/workorder").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllWorkOrders()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-work-order-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","workOrderId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","workOrderId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,ge,1,2,"app-work-order-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.workOrders),e.xp6(1),e.Akn(e.DdM(19,fe)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,be))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,_e)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,he,A.X$]}),o})();const ye=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];let De=(()=>{class o{constructor(t,i){this.clientDDLService=t,this.clientService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.clientFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),password:new n.NI(null,[n.kI.required,n.kI.minLength(8)]),email:new n.NI(null,[n.kI.required,n.kI.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}")]),phone:new n.NI(null,[n.kI.required]),country:new n.NI(null,[n.kI.required]),address:new n.NI(null,[n.kI.required]),fax:new n.NI(null),parentClient:new n.NI(null)}),this.inputs=[{placeholder:"Client Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client Email",formControlName:"email",type:"text",id:"email",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client Password",formControlName:"password",type:"password",id:"password",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client Phone",formControlName:"phone",type:"text",id:"phone",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Address",formControlName:"address",type:"text",id:"address",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Fax",formControlName:"fax",type:"text",id:"fax",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Parent Client",formControlName:"parentClient",type:"text",id:"parentClient",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[{label:"Clear",value:null}],optionValue:"_id",optionLabel:"name"}},{placeholder:"Country",formControlName:"country",type:"text",id:"country",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:ye}}]}ngOnInit(){this.getClientddlData(),this.setFormDataAccordingToAction()}getClientddlData(){const t=this.inputs.find(i=>"parentClient"===i.formControlName);this.clientDDLService.getDDL("clients/DDL").subscribe(i=>{t.dropdownOpt.options=i.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.clientFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.clientService.getByID(this.clientId,"admin/clients").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.clientFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.clientFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.clientService.add(t,"admin/clients").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.clientService.update(t,this.clientId,"admin/clients").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-client-dialog-content"]],inputs:{action:"action",clientId:"clientId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.clientFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function Ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-client-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("clientId",t.clientId)}}const Ae=function(){return{width:"50vw"}},we=function(){return{"960px":"75vw","640px":"100vw"}},Ne=function(){return{width:"450px"}};let ve=(()=>{class o{constructor(t,i){this.clientService=t,this.confirmationService=i,this.cols=[],this.clientId="",this.clients=[],this.display=!1,this.action="new",this.pageTitle="Client"}ngOnInit(){this.getAllClients()}getAllClients(){this.cols=[{field:"name",header:"name",rowType:l.b.NORMAL},{field:"email",header:"email",rowType:l.b.NORMAL},{field:"phone",header:"phone",rowType:l.b.NORMAL},{field:"address",header:"address",rowType:l.b.NORMAL},{field:"fax",header:"fax",rowType:l.b.NORMAL},{field:"parentClient",header:"parentClient",rowType:l.b.NORMAL}],this.clientService.getAll("admin/clients").subscribe(t=>{t.success&&(this.clients=t.result)})}callAction(t){switch(this.clientId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.clientService.delete(this.clientId,"admin/clients").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllClients()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-client-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","clientId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","clientId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,Ie,1,2,"app-client-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.clients),e.xp6(1),e.Akn(e.DdM(19,Ae)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,we))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,Ne)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,De,A.X$]}),o})();var q=d(364);let Te=(()=>{class o{constructor(t,i){this.allDDLService=t,this.equipmentService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.equipmentFormGroup=new n.cw({plantNumber:new n.NI(null,[n.kI.required]),serialNumber:new n.NI(null,[n.kI.required]),standard:new n.NI(null,[n.kI.required]),discription:new n.NI(null,[n.kI.required]),location:new n.NI(null,[n.kI.required]),swl:new n.NI(null,[n.kI.required]),manufacturer:new n.NI(null,[n.kI.required]),loadTestNumber:new n.NI(null,[n.kI.required]),loadTestCompany:new n.NI(null,[n.kI.required]),comment:new n.NI(null),client:new n.NI(null,[n.kI.required]),department:new n.NI(null,[n.kI.required]),installation:new n.NI(null,[n.kI.required]),category:new n.NI(null,[n.kI.required]),type:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Plant Number",formControlName:"plantNumber",type:"number",id:"plantNumber",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Serial Number",formControlName:"serialNumber",type:"text",id:"serialNumber",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"standard",formControlName:"standard",type:"text",id:"standard",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Discription",formControlName:"discription",type:"text",id:"discription",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Location",formControlName:"location",type:"text",id:"location",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"swl",formControlName:"swl",type:"text",id:"swl",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Manufacturer",formControlName:"manufacturer",type:"text",id:"manufacturer",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Load Test Number",formControlName:"loadTestNumber",type:"text",id:"loadTestNumber",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Load Test Company",formControlName:"loadTestCompany",type:"text",id:"loadTestCompany",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Comment",formControlName:"comment",type:"text",id:"comment",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client",formControlName:"client",type:"text",id:"client",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Department",formControlName:"department",type:"text",id:"department",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Installation",formControlName:"installation",type:"text",id:"installation",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Category",formControlName:"category",type:"text",id:"category",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}},{placeholder:"Type",formControlName:"type",type:"text",id:"type",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}}]}ngOnInit(){this.getAllDDLData(),this.setFormDataAccordingToAction()}getAllDDLData(){const t=this.inputs.find(m=>"client"===m.formControlName);this.allDDLService.getDDL("clients/DDL").subscribe(m=>{t.dropdownOpt.options=m.result});const i=this.inputs.find(m=>"department"===m.formControlName);this.allDDLService.getDDL("department/DDL").subscribe(m=>{i.dropdownOpt.options=m.result});const a=this.inputs.find(m=>"installation"===m.formControlName);this.allDDLService.getDDL("installation/DDL").subscribe(m=>{a.dropdownOpt.options=m.result});const r=this.inputs.find(m=>"category"===m.formControlName);this.allDDLService.getDDL("category/DDL").subscribe(m=>{r.dropdownOpt.options=m.result});const c=this.inputs.find(m=>"type"===m.formControlName);this.allDDLService.getDDL("type/DDL").subscribe(m=>{c.dropdownOpt.options=m.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.equipmentFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.equipmentService.getByID(this.equId,"admin/equipment").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.equipmentFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.equipmentFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.equipmentService.add(t,"admin/equipment").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.equipmentService.update(t,this.equId,"admin/equipment").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-equipment-dialog-content"]],inputs:{action:"action",equId:"equId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.equipmentFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-equipment-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("equId",t.equId)}}const Oe=function(){return{width:"50vw"}},qe=function(){return{"960px":"75vw","640px":"100vw"}},Se=function(){return{width:"450px"}};let Pe=(()=>{class o extends N.c{constructor(t,i,a){super(a),this.equipmentService=t,this.confirmationService=i,this.cols=[],this.equId="",this.equipments=[],this.display=!1,this.action="new",this.pageTitle="Equipment",this.reportAction=[{actionFunction:"report",icon:"pi pi-file",isConditionalAction:!0,style:"p-button-rounded p-button-warning"},{actionFunction:"dublicateEquipment",icon:"pi pi-copy",isConditionalAction:!0,style:"p-button-rounded p-button-info"},{actionFunction:"QRCode",icon:"pi pi-qrcode",isConditionalAction:!0,style:"p-button-rounded p-button-secondary"}]}ngOnInit(){this.getAllEquipments()}getAllEquipments(){this.cols=[{field:"defectLevel",header:"Defect Level",rowType:l.b.ICON,enumTdObj:{[q.I.LOW]:"bg-success pi pi-file rounded text-white p-2",[q.I.MEDIUM]:"bg-warning pi pi-file rounded text-white p-2",[q.I.HIGH]:"bg-danger pi pi-file rounded text-white p-2",null:"bg-secondary pi pi-file rounded text-white p-2"}},{field:"serialNumber",header:"Serial number",rowType:l.b.NORMAL},{field:"categoryName",header:"Category name",rowType:l.b.NORMAL},{field:"location",header:"Location",rowType:l.b.NORMAL},{field:"swl",header:"swl",rowType:l.b.NORMAL},{field:"loadTestNumber",header:"LT.Number",rowType:l.b.NORMAL},{field:"loadTestCompany",header:"LT.Company",rowType:l.b.NORMAL},{field:"typeName",header:"Type name",rowType:l.b.NORMAL}],this.equipmentService.getAll("admin/equipment").subscribe(t=>{t.success&&(this.equipments=t.result)})}callAction(t){switch(this.equId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete();break;case"report":this.goToReports();break;case"dublicateEquipment":this.dublicateReport();break;case"QRCode":this.QRCode()}}goToReports(){this.router.navigate(["/adminpanel/report/"+this.equId])}dublicateReport(){}QRCode(){}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.equipmentService.delete(this.equId,"admin/equipment").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllEquipments()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-equipment-page"]],features:[e.qOj],decls:10,vars:23,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","conditionalAction","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","equId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","equId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,ke,1,2,"app-equipment-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.equipments)("conditionalAction",i.reportAction),e.xp6(1),e.Akn(e.DdM(20,Oe)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(21,qe))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(22,Se)),e.s9C("acceptLabel",e.lcZ(8,16,"YES")),e.s9C("rejectLabel",e.lcZ(9,18,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,Te,A.X$]}),o})(),Me=(()=>{class o{constructor(t,i){this.clientDDLService=t,this.installationService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.installationFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),client:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Installation Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Client",formControlName:"client",type:"text",id:"client",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}}]}ngOnInit(){this.getClientDDLData(),this.setFormDataAccordingToAction()}getClientDDLData(){const t=this.inputs.find(i=>"client"===i.formControlName);this.clientDDLService.getDDL("clients/DDL").subscribe(i=>{t.dropdownOpt.options=i.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.installationFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.installationService.getByID(this.installationId,"admin/installation").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.installationFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.installationFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.installationService.add(t,"admin/installation").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.installationService.update(t,this.installationId,"admin/installation").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-installation-dialog-content"]],inputs:{action:"action",installationId:"installationId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.installationFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function Le(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-installation-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("installationId",t.installationId)}}const Re=function(){return{width:"50vw"}},Fe=function(){return{"960px":"75vw","640px":"100vw"}},Ze=function(){return{width:"450px"}};let xe=(()=>{class o{constructor(t,i){this.installationService=t,this.confirmationService=i,this.cols=[],this.installationId="",this.installations=[],this.display=!1,this.action="new",this.pageTitle="Installations"}ngOnInit(){this.getAllInstallations()}getAllInstallations(){this.cols=[{field:"name",header:"Name",rowType:l.b.NORMAL},{field:"clientName",header:"Client",rowType:l.b.NORMAL}],this.installationService.getAll("admin/installation").subscribe(t=>{t.success&&(this.installations=t.result)})}callAction(t){switch(this.installationId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.installationService.delete(this.installationId,"admin/installation").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllInstallations()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-installation-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","installationId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","installationId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,Le,1,2,"app-installation-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.installations),e.xp6(1),e.Akn(e.DdM(19,Re)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,Fe))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,Ze)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,Me,A.X$]}),o})(),Ee=(()=>{class o{constructor(t,i){this.categoryDDLService=t,this.typeService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.typeFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),category:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Type Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Category",formControlName:"category",type:"text",id:"category",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}}]}ngOnInit(){this.getCategoryDDLData(),this.setFormDataAccordingToAction()}getCategoryDDLData(){const t=this.inputs.find(i=>"category"===i.formControlName);this.categoryDDLService.getDDL("category/DDL").subscribe(i=>{t.dropdownOpt.options=i.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.typeFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.typeService.getByID(this.typeId,"admin/type").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.typeFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.typeFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.typeService.add(t,"admin/type").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.typeService.update(t,this.typeId,"admin/type").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-type-dialog-content"]],inputs:{action:"action",typeId:"typeId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.typeFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function Qe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-type-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("typeId",t.typeId)}}const Je=function(){return{width:"50vw"}},Ge=function(){return{"960px":"75vw","640px":"100vw"}},Ue=function(){return{width:"450px"}};let Be=(()=>{class o{constructor(t,i){this.typeService=t,this.confirmationService=i,this.cols=[],this.typeId="",this.types=[],this.display=!1,this.action="new",this.pageTitle="Type"}ngOnInit(){this.getAllInstallations()}getAllInstallations(){this.cols=[{field:"typeCode",header:"Code",rowType:l.b.NORMAL},{field:"name",header:"Name",rowType:l.b.NORMAL},{field:"categoryName",header:"Category",rowType:l.b.NORMAL}],this.typeService.getAll("admin/type").subscribe(t=>{t.success&&(this.types=t.result)})}callAction(t){switch(this.typeId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.typeService.delete(this.typeId,"admin/type").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllInstallations()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-type-page"]],decls:8,vars:16,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","typeId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn","acceptLabel","Yes","rejectLabel","No"],[3,"action","typeId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,Qe,1,2,"app-type-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5)),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.types),e.xp6(1),e.Akn(e.DdM(13,Je)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(14,Ge))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(15,Ue)))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,Ee]}),o})(),je=(()=>{class o{constructor(t,i){this.departmentDDLService=t,this.accountService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.accountFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),email:new n.NI(null,[n.kI.required,n.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new n.NI(null,this.action==l.a.ADD?[n.kI.required,n.kI.minLength(8)]:null),department:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Account Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Email",formControlName:"email",type:"text",id:"email",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Password",formControlName:"password",type:"password",id:"password",errorMessage:"this field is required",element:p.Q.INPUT,conditionalAction:l.a.EDIT},{placeholder:"Department",formControlName:"department",type:"text",id:"department",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"name",optionValue:"_id"}}]}ngOnInit(){this.getDepartmentDDLData(),this.setFormDataAccordingToAction()}getDepartmentDDLData(){const t=this.inputs.find(i=>"department"===i.formControlName);this.departmentDDLService.getDDL("department/DDL").subscribe(i=>{t.dropdownOpt.options=i.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.accountFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.accountService.getByID(this.accountId,"admin/account").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.accountFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.accountFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.accountService.add(t,"admin/account").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.accountService.update(t,this.accountId,"admin/account").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-dialog-content"]],inputs:{action:"action",accountId:"accountId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.accountFormGroup)("action",i.action)},dependencies:[C.E]}),o})();function Ye(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-account-dialog-content",6),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("accountId",t.accountId)}}const ze=function(){return{width:"50vw"}},Ve=function(){return{"960px":"75vw","640px":"100vw"}},We=function(){return{width:"450px"}};let He=(()=>{class o{constructor(t,i){this.accountService=t,this.confirmationService=i,this.cols=[],this.accountId="",this.accounts=[],this.display=!1,this.action="new",this.pageTitle="Account"}ngOnInit(){this.getAllAccounts()}getAllAccounts(){this.cols=[{field:"name",header:"Name",rowType:l.b.NORMAL},{field:"email",header:"Email",rowType:l.b.NORMAL},{field:"departmentName",header:"Department",rowType:l.b.NORMAL}],this.accountService.getAll("admin/account").subscribe(t=>{t.success&&(this.accounts=t.result)})}callAction(t){switch(this.accountId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.accountService.delete(this.accountId,"admin/account").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllAccounts()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-page"]],decls:10,vars:22,consts:[[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","accountId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[3,"action","accountId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(4,"app-data-table",2),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",3),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,Ye,1,2,"app-account-dialog-content",4),e.qZA(),e._UZ(7,"p-confirmDialog",5),e.ALo(8,"translate"),e.ALo(9,"translate")),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.accounts),e.xp6(1),e.Akn(e.DdM(19,ze)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(20,Ve))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(21,We)),e.s9C("acceptLabel",e.lcZ(8,15,"YES")),e.s9C("rejectLabel",e.lcZ(9,17,"NO")))},dependencies:[h.O5,y.Hq,_.V,D.Q,b.Q,je,A.X$]}),o})();var g=d(8731),k=d(5648),R=d(8783);let F=(()=>{class o{constructor(t,i){this.ddlService=t,this.reportService=i,this.action=l.a.ADD,this.closeDialog=new e.vpe,this.reportFormGroup=new n.cw({type:new n.NI(null,[n.kI.required]),examinationStandard:new n.NI(null,[n.kI.required]),dateOfExamination:new n.NI(null,[n.kI.required]),dateOfNextExamination:new n.NI(null,[n.kI.required]),jobNumber:new n.NI(null,[n.kI.required]),foundDefectDangerToPerson:new n.NI(null,[n.kI.required]),proofLoadApplied:new n.NI(null,[n.kI.required]),isImmediateDanger:new n.NI(null),isPotentialDanger:new n.NI(null),repairRenewalAlteration:new n.NI(null,[n.kI.required]),testsCarriedOut:new n.NI(null,[n.kI.required]),isFirstExamination:new n.NI(null),isEquipmentInstalledCorrectly:new n.NI(null),isEquipmentSafeToOperate:new n.NI(null)}),this.inputs=[{placeholder:"Type",formControlName:"type",type:"text",id:"type",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:Object.values(g.C2)}},{placeholder:"Examination Standard",formControlName:"examinationStandard",type:"text",id:"examinationStandard",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Date Of Examination",formControlName:"dateOfExamination",type:"text",id:"dateOfExamination",errorMessage:"this field is required",element:p.Q.CALENDAR},{placeholder:"Date Of Next Examination",formControlName:"dateOfNextExamination",type:"text",id:"dateOfNextExamination",errorMessage:"this field is required",element:p.Q.CALENDAR},{placeholder:"Job Number",formControlName:"jobNumber",type:"text",id:"jobNumber",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:[],optionLabel:"jobNumber",optionValue:"_id"}},{placeholder:"Defect Danger To Person",formControlName:"foundDefectDangerToPerson",type:"text",id:"foundDefectDangerToPerson",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Is Immediate Danger",formControlName:"isImmediateDanger",type:"text",id:"isImmediateDanger",errorMessage:"this field is required",element:p.Q.SWITCH},{placeholder:"Is Potential Danger",formControlName:"isPotentialDanger",type:"text",id:"isPotentialDanger",errorMessage:"this field is required",element:p.Q.SWITCH},{placeholder:"Proof Load Applied",formControlName:"proofLoadApplied",type:"text",id:"proofLoadApplied",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Repair Renewal Alteration",formControlName:"repairRenewalAlteration",type:"text",id:"repairRenewalAlteration",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Tests Carried Out",formControlName:"testsCarriedOut",type:"text",id:"testsCarriedOut",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Is First Examination",formControlName:"isFirstExamination",type:"text",id:"isFirstExamination",errorMessage:"this field is required",element:p.Q.SWITCH},{placeholder:"Is Equipment Installed Correctly",formControlName:"isEquipmentInstalledCorrectly",type:"text",id:"isEquipmentInstalledCorrectly",errorMessage:"this field is required",element:p.Q.SWITCH},{placeholder:"Is Equipment Safe To Operate",formControlName:"isEquipmentSafeToOperate",type:"text",id:"isEquipmentSafeToOperate",errorMessage:"this field is required",element:p.Q.SWITCH}]}ngOnInit(){this.getAllDDLData(),this.setFormDataAccordingToAction()}getAllDDLData(){const t=this.inputs.find(a=>"equipment"===a.formControlName);this.ddlService.getDDL("equipment/DDL").subscribe(a=>{t.dropdownOpt.options=a.result});const i=this.inputs.find(a=>"jobNumber"===a.formControlName);this.ddlService.getDDL("workorder/DDL").subscribe(a=>{i.dropdownOpt.options=a.result})}setFormDataAccordingToAction(){switch(this.action){case"details":this.getFormDataByID(),this.reportFormGroup.disable();break;case"edit":this.getFormDataByID()}}getFormDataByID(){this.reportService.getByID(this.reportId,"admin/report").subscribe(t=>{this.setFormGroupData(t.result)})}setFormGroupData(t){const i=Object.keys(this.reportFormGroup.controls);let a=Object.keys(t).filter(r=>i.includes(r)).reduce((r,c)=>(r[c]=t[c],r),{});this.reportFormGroup.patchValue(a)}formSubmitted(t){switch(this.action){case"add":let i={...t.value,equipment:this.equId};this.callCrudApi(i);break;case"edit":let a={...t.value};this.callCrudApi(a)}}callCrudApi(t){switch(this.action){case"add":this.reportService.add(t,"admin/report").subscribe(i=>{i.success&&this.closeDialog.emit()});break;case"edit":this.reportService.update(t,this.reportId,"admin/report").subscribe(i=>{i.success&&this.closeDialog.emit()})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.z),e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-report-dialog-content"]],inputs:{action:"action",reportId:"reportId",equId:"equId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:3,consts:[[3,"inputs","formControlFromParent","action","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.reportFormGroup)("action",i.action)},dependencies:[C.E]}),o})(),Xe=(()=>{class o{constructor(t,i){this.defectReportService=t,this.messageService=i,this.closeDialog=new e.vpe,this.fileName="",this.base64Image="",this.image="",this.defectedReportFormGroup=new n.cw({name:new n.NI(null,[n.kI.required]),priority:new n.NI(null,[n.kI.required]),description:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Name",formControlName:"name",type:"text",id:"name",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Priority",formControlName:"priority",type:"text",id:"priority",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:Object.values(g.Sh)}},{placeholder:"Description",formControlName:"description",type:"text",id:"description",errorMessage:"this field is required",element:p.Q.TEXTAREA}]}ngOnInit(){}fileUploaded(t){this.fileName=t.fileName,this.base64Image=t.imageBase64}formSubmitted(t){if(this.base64Image){let i={...t.value,image:this.base64Image};this.callCrudApi(i)}else this.messageService.add({severity:"error",summary:"Error",detail:"Image is required"})}callCrudApi(t){this.defectReportService.addToID(t,this.reportId,"admin/report/defect").subscribe(i=>{i.success&&this.closeDialog.emit()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-defect-to-report-dialog-content"]],inputs:{reportId:"reportId"},outputs:{closeDialog:"closeDialog"},decls:3,vars:3,consts:[["position","bottom-right"],[3,"changeFile","fileUploaded"],[3,"inputs","formControlFromParent","formSubmitted"]],template:function(t,i){1&t&&(e._UZ(0,"p-toast",0),e.TgZ(1,"app-file-uploader",1),e.NdJ("fileUploaded",function(r){return i.fileUploaded(r)}),e.qZA(),e.TgZ(2,"app-input-form",2),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("changeFile",!!i.image),e.xp6(1),e.Q6J("inputs",i.inputs)("formControlFromParent",i.defectedReportFormGroup))},dependencies:[M.FN,C.E,L.G]}),o})();const Ke=function(o){return{color:o}};function $e(o,s){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13)(2,"p",14),e._uU(3),e.qZA(),e.TgZ(4,"h3",15),e._uU(5),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(3),e.Oqu(t),e.xp6(1),e.Q6J("ngStyle",e.VKq(3,Ke,i.equipmentInfo[t]?"initial":"red")),e.xp6(1),e.hij(" ",i.equipmentInfo[t]||"No Data"," ")}}function et(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-report-dialog-content",16),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("reportId",t.reportId)("equId",t.equipmentID)}}function tt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-add-defect-to-report-dialog-content",17),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("reportId",t.reportId)}}const it=function(){return{width:"50vw"}},ot=function(){return{"960px":"75vw","640px":"100vw"}},nt=function(){return{width:"450px"}};let at=(()=>{class o extends N.c{constructor(t,i,a){super(a),this.reportService=t,this.confirmationService=i,this.equipmentID=this.route.snapshot.paramMap.get("equipmentID"),this.cols=[],this.reportId="",this.reports=[],this.display=!1,this.action="new",this.pageTitle="Report",this.defectReportAction=[{actionFunction:"defectToReport",icon:"pi pi-file-excel",isConditionalAction:!0,style:"p-button-rounded p-button-warning"},{actionFunction:"downloadReport",icon:"pi pi-download",isConditionalAction:!0,style:"p-button-rounded p-button-secondary"}],this.isAddDefect=!1,this.equipmentInfoKeys=[]}ngOnInit(){this.getEquipmentInfo(),this.getAllReports()}getEquipmentInfo(){this.reportService.getByID(this.equipmentID,"admin/equipment/info").subscribe(t=>{t.success&&(this.equipmentInfo=t.result[0],delete this.equipmentInfo.__v,delete this.equipmentInfo._id,this.equipmentInfo=(0,k.tU)(this.equipmentInfo),this.equipmentInfo=(0,k.g$)(this.equipmentInfo),this.equipmentInfoKeys=Object.keys(this.equipmentInfo))})}getAllReports(){this.cols=[{field:"reportName",header:"Report Name",rowType:l.b.NORMAL},{field:"dateOfExamination",header:"Date Of Examination",rowType:l.b.NORMAL},{field:"status",header:"Status",rowType:l.b.ENUM,enumTdObj:{[g.R8.COMPLETED]:"bg-success rounded text-white p-2",[g.R8.UNCOMLPETED]:"bg-danger rounded text-white p-2"}},{field:"inspector",header:"Inspector",rowType:l.b.NORMAL},{field:"createdAt",header:"createdAt",rowType:l.b.DATE}],this.reportService.getAll("admin/report/"+this.equipmentID+"/report").subscribe(t=>{t.success&&(this.reports=t.result)})}callAction(t){switch(this.reportId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete();break;case"defectToReport":this.action="edit",this.display=!0,this.isAddDefect=!0;break;case"downloadReport":this.downloadReportFunction()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.reportService.delete(this.reportId,"admin/account").subscribe(t=>{t.success&&this.close()})}})}downloadReportFunction(){console.log("pdf")}close(){this.display=!1,this.getAllReports()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(f.YP),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-report-page"]],features:[e.qOj],decls:17,vars:26,consts:[[1,"m-2","p-2","pt-0"],["header","Equipment Info"],[1,"col-12","d-flex","flex-wrap","gap-4"],["class","wrapper",4,"ngFor","ngForOf"],[3,"header"],[1,"header","d-flex","justify-content-between","p-3"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"mr-2","rounded",3,"click"],[3,"isActions","cols","data","conditionalAction","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","reportId","equId","closeDialog",4,"ngIf"],[3,"reportId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn",3,"acceptLabel","rejectLabel"],[1,"wrapper"],[1,"single-card","px-4","py-1","shadow"],[1,"m-0"],[1,"mt-1",3,"ngStyle"],[3,"action","reportId","equId","closeDialog"],[3,"reportId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p-tabView")(2,"p-tabPanel",1)(3,"div",2),e.YNc(4,$e,6,5,"div",3),e.qZA()(),e.TgZ(5,"p-tabPanel",4)(6,"div",5)(7,"h3"),e._uU(8),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return i.callAction({action:"add"})}),e.qZA()(),e.TgZ(10,"app-data-table",7),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA()(),e.TgZ(11,"p-dialog",8),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(12,et,1,3,"app-report-dialog-content",9),e.YNc(13,tt,1,1,"app-add-defect-to-report-dialog-content",10),e.qZA(),e._UZ(14,"p-confirmDialog",11),e.ALo(15,"translate"),e.ALo(16,"translate"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.equipmentInfoKeys),e.xp6(1),e.MGl("header","",i.pageTitle," Page"),e.xp6(3),e.hij("",i.pageTitle," Page"),e.xp6(2),e.Q6J("isActions",!0)("cols",i.cols)("data",i.reports)("conditionalAction",i.defectReportAction),e.xp6(1),e.Akn(e.DdM(23,it)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(24,ot))("header",i.display&&!i.isAddDefect?i.action+" "+i.pageTitle:"Add Defect"),e.xp6(1),e.Q6J("ngIf",i.display&&!i.isAddDefect),e.xp6(1),e.Q6J("ngIf",i.display&&i.isAddDefect),e.xp6(1),e.Akn(e.DdM(25,nt)),e.s9C("acceptLabel",e.lcZ(15,19,"YES")),e.s9C("rejectLabel",e.lcZ(16,21,"NO")))},dependencies:[h.sg,h.O5,h.PC,y.Hq,_.V,D.Q,R.xf,R.x4,b.Q,F,Xe,A.X$],styles:[".single-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.single-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10 px}.single-card[_ngcontent-%COMP%]{border-left-width:5px;border-left-color:#545454;border-left-style:solid}.wrapper[_ngcontent-%COMP%]{width:30%}"]}),o})();var Z=d(529),S=d(8165),rt=d(5577),st=d(262),x=d(2843);let lt=(()=>{class o extends S.gF{constructor(t,i){super(t),this.router=i}approveReport(t,i){let a=this.BACKEND+i+"/"+t;a=a.replace(/[?&]$/,"");let r={...this.optionsConfig,params:(new Z.LE).set("",t)};return this.http.request("patch",a,r).pipe((0,rt.z)(c=>(0,S.zx)(c))).pipe((0,st.K)(c=>{if(!(c instanceof Z.QO))return(0,x._)(c);try{return(0,S.zx)(c)}catch(m){return(0,x._)(m)}}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(v.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function pt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-report-dialog-content",5),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("action",t.action)("reportId",t.unapprovedReportId)}}const ct=function(){return{width:"50vw"}},dt=function(){return{"960px":"75vw","640px":"100vw"}},ut=function(){return{width:"450px"}};let mt=(()=>{class o{constructor(t,i,a){this.reportAuthenticationService=t,this.reportService=i,this.confirmationService=a,this.cols=[],this.unapprovedReportId="",this.unapprovedReports=[],this.display=!1,this.action="new",this.pageTitle="Authentication",this.approveReport=[{actionFunction:"approveReport",icon:"pi pi-check",isConditionalAction:!0,style:"p-button-rounded p-button-warning",conditionalByRow:{data:g.R8.UNCOMLPETED,field:"status"}}]}ngOnInit(){this.getAllUnapprovedReports()}getAllUnapprovedReports(){this.cols=[{field:"reportName",header:"Report Name",rowType:l.b.NORMAL},{field:"inspector",header:"Inspector",rowType:l.b.NORMAL},{field:"type",header:"Type",rowType:l.b.NORMAL},{field:"status",header:"Status",rowType:l.b.ENUM,enumTdObj:{[g.R8.COMPLETED]:"bg-success rounded text-white p-2",[g.R8.UNCOMLPETED]:"bg-danger rounded text-white p-2"}},{field:"createdAt",header:"createdAt",rowType:l.b.DATE}],this.reportAuthenticationService.getAll("admin/report/approval").subscribe(t=>{t.success&&(this.unapprovedReports=t.result)})}callAction(t){switch(this.unapprovedReportId=t.id,t.action){case"add":this.action="add",this.display=!0;break;case"details":this.action="details",this.display=!0;break;case"edit":this.action="edit",this.display=!0;break;case"delete":this.delete();break;case"approveReport":this.approveReportAction()}}delete(){this.confirmationService.confirm({message:"Are you sure you want to delete?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.reportAuthenticationService.delete(this.unapprovedReportId,"admin/workorder").subscribe(t=>{t.success&&this.close()})}})}approveReportAction(){this.confirmationService.confirm({message:"Do you want to approve this report?",header:"Approve",icon:"pi pi-exclamation-triangle",accept:()=>{this.reportService.approveReport(this.unapprovedReportId,"admin/report/approval").subscribe(t=>{t.success&&this.close()})}})}close(){this.display=!1,this.getAllUnapprovedReports()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(lt),e.Y36(f.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-report-authentication-page"]],decls:7,vars:18,consts:[[1,"header","d-flex","justify-content-between","p-3"],[3,"isActions","cols","data","conditionalAction","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"action","reportId","closeDialog",4,"ngIf"],["acceptButtonStyleClass","save-btn","rejectButtonStyleClass","cancel-btn","acceptLabel","Approve",3,"rejectVisible"],[3,"action","reportId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA()(),e.TgZ(3,"app-data-table",1),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(5,pt,1,2,"app-report-dialog-content",3),e.qZA(),e._UZ(6,"p-confirmDialog",4)),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(1),e.Q6J("isActions",!0)("cols",i.cols)("data",i.unapprovedReports)("conditionalAction",i.approveReport),e.xp6(1),e.Akn(e.DdM(15,ct)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(16,dt))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display),e.xp6(1),e.Akn(e.DdM(17,ut)),e.Q6J("rejectVisible",!1))},dependencies:[h.O5,_.V,D.Q,b.Q,F]}),o})(),ht=(()=>{class o extends N.c{constructor(t,i){super(i),this.defectedReportService=t,this.cols=[],this.reportId="",this.reports=[],this.display=!1,this.action="new",this.pageTitle="Notification",this.goToDefectedAction=[{actionFunction:"goToDefected",icon:"pi pi-arrow-right",isConditionalAction:!0,style:"p-button-rounded p-button-info"}]}ngOnInit(){this.getAllReports()}getAllReports(){this.cols=[{field:"defectLevel",header:"Defect Level",rowType:l.b.ICON,enumTdObj:{[g.Sh.LOW]:"bg-success pi pi-file rounded text-white p-2",[g.Sh.MEDIUM]:"bg-warning pi pi-file rounded text-white p-2",[g.Sh.HIGH]:"bg-danger pi pi-file rounded text-white p-2",null:"bg-secondary pi pi-file rounded text-white p-2"}},{field:"serialNumber",header:"Serial Number",rowType:l.b.NORMAL},{field:"departmentName",header:"Department ",rowType:l.b.NORMAL},{field:"categoryName",header:"Category ",rowType:l.b.NORMAL},{field:"typeName",header:"Type ",rowType:l.b.NORMAL},{field:"location",header:"Location",rowType:l.b.NORMAL},{field:"createdAt",header:"Creation Date",rowType:l.b.DATE},{field:"isClientRespond",header:"Client Response",rowType:l.b.BOOLEAN},{field:"isInspectorRespond",header:"Inspector Response",rowType:l.b.BOOLEAN},{field:"defectStatus",header:"Defect Status",rowType:l.b.ENUM,enumTdObj:{[g.tz.FIXED]:"bg-success rounded text-white p-2",[g.tz.IGNORED]:"bg-warning rounded text-white p-2",[g.tz.QUARANTINED]:"bg-danger rounded text-white p-2"}}],this.defectedReportService.getAll("admin/report/defect").subscribe(t=>{t.success&&(this.reports=t.result)})}callAction(t){this.reportId=t.id,this.goToDefected()}goToDefected(){this.router.navigate(["/adminpanel/notificationResponse/"+this.reportId])}close(){this.display=!1,this.getAllReports()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notification-page"]],features:[e.qOj],decls:4,vars:6,consts:[[1,"header","d-flex","justify-content-between","p-3"],[3,"isActions","isMainActions","cols","data","conditionalAction","actionClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA()(),e.TgZ(3,"app-data-table",1),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA()),2&t&&(e.xp6(2),e.hij("",i.pageTitle," Page"),e.xp6(1),e.Q6J("isActions",!0)("isMainActions",!1)("cols",i.cols)("data",i.reports)("conditionalAction",i.goToDefectedAction))},dependencies:[b.Q]}),o})();var E=d(2174);let gt=(()=>{class o{constructor(t){this.defectedReportsService=t,this.closeDialog=new e.vpe,this.defectedResponseFormGroup=new n.cw({inspectorResponse:new n.NI(null,[n.kI.required]),inspectorComment:new n.NI(null,[n.kI.required])}),this.inputs=[{placeholder:"Inspector Comment",formControlName:"inspectorComment",type:"text",id:"inspectorComment",errorMessage:"this field is required",element:p.Q.INPUT},{placeholder:"Action",formControlName:"inspectorResponse",type:"text",id:"inspectorResponse",errorMessage:"this field is required",element:p.Q.DROPDOWM,dropdownOpt:{options:Object.values(g.Xt)}}]}ngOnInit(){}formSubmitted(t){let i={...t.value};this.callCrudApi(i)}callCrudApi(t){this.defectedReportsService.update(t,this.defectedReportId,"admin/report/defect").subscribe(i=>{i.success&&this.closeDialog.emit()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notification-responsd-dialog-content"]],inputs:{defectedReportId:"defectedReportId"},outputs:{closeDialog:"closeDialog"},decls:1,vars:2,consts:[[3,"inputs","formControlFromParent","formSubmitted"]],template:function(t,i){1&t&&(e.TgZ(0,"app-input-form",0),e.NdJ("formSubmitted",function(r){return i.formSubmitted(r)}),e.qZA()),2&t&&e.Q6J("inputs",i.inputs)("formControlFromParent",i.defectedResponseFormGroup)},dependencies:[C.E]}),o})();const ft=function(o){return{color:o}};function bt(o,s){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"p",10),e._uU(3),e.qZA(),e.TgZ(4,"h3",11),e._uU(5),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.Oqu(t),e.xp6(1),e.Q6J("ngStyle",e.VKq(3,ft,i.reportInfo[t]?"initial":"red")),e.xp6(1),e.hij(" ",i.reportInfo[t]||"No Data"," ")}}function _t(o,s){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,bt,6,5,"div",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.reportInfoKeys)}}function Ct(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-notification-responsd-dialog-content",12),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("defectedReportId",t.defectedReportID)}}const yt=function(){return{width:"50vw"}},Dt=function(){return{"960px":"75vw","640px":"100vw"}},At=[{path:"",component:j,children:[{path:"dashboard",component:O.c},{path:"equipment",component:Pe},{path:"workOrder",component:Ce},{path:"products",component:Y,children:[{path:"add",component:O.c},{path:"edit",component:O.c}]},{path:"employee",component:te},{path:"authentication",component:mt},{path:"installation",component:xe},{path:"type",component:Be},{path:"client",component:ve},{path:"category",component:se},{path:"department",component:me},{path:"account",component:He},{path:"notification",component:ht},{path:"report/:equipmentID",component:at},{path:"notificationResponse/:reportID",component:(()=>{class o extends N.c{constructor(t,i){super(i),this.defectedReportService=t,this.reportId=this.route.snapshot.paramMap.get("reportID"),this.cols=[],this.defectedReportID="",this.reports=[],this.display=!1,this.action="new",this.pageTitle="Response",this.defectReportAction=[{actionFunction:"changeResponse",icon:"pi pi-eject",isConditionalAction:!0,style:"p-button-rounded"}],this.reportInfoKeys=[]}ngOnInit(){this.getAllDefectedReports()}getAllDefectedReports(){this.cols=[{field:"name",header:"Name",rowType:l.b.NORMAL},{field:"image",header:"Image",rowType:l.b.IMAGE},{field:"status",header:"status",rowType:l.b.ENUM,enumTdObj:{[g.tz.FIXED]:"bg-success rounded text-white p-2",[g.tz.IGNORED]:"bg-warning rounded text-white p-2",[g.tz.QUARANTINED]:"bg-danger rounded text-white p-2"}},{field:"comment",header:"Comment",rowType:l.b.NORMAL},{field:"clientName",header:"Client Name",rowType:l.b.NORMAL}],this.defectedReportService.getByID(this.reportId,"admin/report/defect").subscribe(t=>{t.success&&(this.reports=t.result.defect,this.reportInfo=t.result,delete this.reportInfo.defect,delete this.reportInfo.__v,delete this.reportInfo._id,this.reportInfo=(0,k.tU)(this.reportInfo),this.reportInfo=(0,k.g$)(this.reportInfo),this.reportInfoKeys=Object.keys(this.reportInfo))})}callAction(t){this.defectedReportID=t.id,this.display=!0}close(){this.display=!1,this.getAllDefectedReports()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.I),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notification-response-page"]],features:[e.qOj],decls:7,vars:14,consts:[[1,"m-2","p-2","pt-0"],["header","Report info"],["pTemplate","content"],[3,"isActions","isMainActions","cols","data","conditionalAction","actionClicked"],[3,"visible","dismissableMask","breakpoints","header","visibleChange"],[3,"defectedReportId","closeDialog",4,"ngIf"],[1,"col-12","d-flex","flex-wrap","gap-4"],["class","wrapper",4,"ngFor","ngForOf"],[1,"wrapper"],[1,"single-card","px-4","py-1","shadow"],[1,"m-0"],[1,"mt-1",3,"ngStyle"],[3,"defectedReportId","closeDialog"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p-accordion")(2,"p-accordionTab",1),e.YNc(3,_t,2,1,"ng-template",2),e.qZA()()(),e.TgZ(4,"app-data-table",3),e.NdJ("actionClicked",function(r){return i.callAction(r)}),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(r){return i.display=r}),e.YNc(6,Ct,1,1,"app-notification-responsd-dialog-content",5),e.qZA()),2&t&&(e.xp6(4),e.Q6J("isActions",!0)("isMainActions",!1)("cols",i.cols)("data",i.reports)("conditionalAction",i.defectReportAction),e.xp6(1),e.Akn(e.DdM(12,yt)),e.Q6J("visible",i.display)("dismissableMask",!0)("breakpoints",e.DdM(13,Dt))("header",i.action+" "+i.pageTitle),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[h.sg,h.O5,h.PC,f.jx,_.V,E.UQ,E.US,b.Q,gt],styles:[".single-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.single-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10 px}.single-card[_ngcontent-%COMP%]{border-left-width:5px;border-left-color:#0069d9;border-left-style:solid}.wrapper[_ngcontent-%COMP%]{max-width:20%}"]}),o})()}]}];let wt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.Bz.forChild(At),v.Bz]}),o})();var Nt=d(8703),vt=d(2241);let Tt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[f.YP],imports:[Nt.h,vt.L,wt]}),o})()}}]);